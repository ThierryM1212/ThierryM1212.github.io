(this["webpackJsonpergo-template"]=this["webpackJsonpergo-template"]||[]).push([[0],{10:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"b",(function(){return B})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return J})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return M}));var s=n(1),r=n.n(s),a=n(2),c=n(63),o=n(19),i=n.n(o),u=n(44),d=Promise.all([n.e(3),n.e(5)]).then(n.bind(null,243));function l(e){for(var t="",n=e.byteLength,s=0;s<n;s++)t+=String.fromCharCode(e[s]);return window.btoa(t)}function x(e){for(var t=window.atob(e),n=t.length,s=new Uint8Array(n),r=0;r<n;r++)s[r]=t.charCodeAt(r);return s}function h(e){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d;case 2:return t.abrupt("return",t.sent.Constant.from_byte_array(e.from(n,"hex")).encode_to_base16());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h(c.Serializer.stringToHex(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return n=e.sent.Address.from_mainnet_str(t).to_bytes(),e.next=5,d;case 5:return e.abrupt("return",e.sent.Constant.from_byte_array(n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.abrupt("return",e.sent.Constant.from_i32(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.t0=e.sent.Constant,e.next=5,d;case 5:return e.t1=e.sent.I64.from_str(t),e.abrupt("return",e.t0.from_i64.call(e.t0,e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.abrupt("return",e.sent.Constant.from_i64_str_array(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.t0=e.sent.Contract,e.next=5,d;case 5:return e.t1=e.sent.Address.from_base58(t),n=e.t0.pay_to_address.call(e.t0,e.t1),e.abrupt("return",n.ergo_tree().to_base16_bytes());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,n,s){return T.apply(this,arguments)}function T(){return(T=Object(a.a)(r.a.mark((function e(t,n,s,a){var c,o,u,d,x,h,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getTxReduced",t,n,s),e.next=3,N(t,n,s);case 3:return c=e.sent,o=l(c.sigma_serialize_bytes()),u=n.map((function(e){return window.btoa(i.a.stringify(e))})),d={reducedTx:o,sender:a,inputs:u},x=i.a.stringify(d),h=Math.floor(x.length/1e3),x.length%1e3!==0&&h++,p="CSR",h>1&&(p+="/1/"+h),p+="-"+x,e.abrupt("return",[o.match(/.{1,1000}/g),p.match(/.{1,1000}/g)]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return C.apply(this,arguments)}function C(){return(C=Object(a.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.t0=e.sent.BlockHeaders,e.next=5,Object(u.a)();case 5:return e.t1=e.sent,t=e.t0.from_json.call(e.t0,e.t1),e.next=9,d;case 9:return n=e.sent.PreHeader.from_block_header(t.get(0)),e.next=12,d;case 12:return e.t2=e.sent.ErgoStateContext,e.t3=n,e.t4=t,e.abrupt("return",new e.t2(e.t3,e.t4));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(a.a)(r.a.mark((function e(t,n,s){var a,c,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return a=e.sent.UnsignedTransaction.from_json(i.a.stringify(t)),e.next=5,d;case 5:return c=e.sent.ErgoBoxes.from_boxes_json(n),e.next=8,d;case 8:return o=e.sent.ErgoBoxes.from_boxes_json(s),e.next=11,I();case 11:return u=e.sent,e.next=14,d;case 14:return e.abrupt("return",e.sent.ReducedTransaction.from_unsigned_tx(a,c,o,u));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return(L=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return e.abrupt("return",e.sent.ReducedTransaction.sigma_parse_bytes(x(t)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return D.apply(this,arguments)}function D(){return(D=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return n=e.sent,console.log("getTxJsonFromTxReduced",n),e.next=6,n.unsigned_tx().to_js_eip12();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(a.a)(r.a.mark((function e(t,n,s){var a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return a=e.sent,e.next=5,U(n,s);case 5:return c=e.sent,o=c.sign_reduced_transaction(a),e.next=9,o.to_js_eip12();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e,t){return e.derive(t)};function M(e,t,n,s,r){return G.apply(this,arguments)}function G(){return(G=Object(a.a)(r.a.mark((function e(t,n,s,a,c){var o,u,l,x,h,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return o=e.sent.UnsignedTransaction.from_json(i.a.stringify(t)),e.next=5,d;case 5:return u=e.sent.ErgoBoxes.from_boxes_json(n),e.next=8,d;case 8:return l=e.sent.ErgoBoxes.from_boxes_json(s),e.next=11,U(a,c);case 11:return x=e.sent,console.log("wallet",x),e.next=15,I();case 15:return h=e.sent,p=x.sign_transaction(h,o,u,l),e.next=19,p.to_js_eip12();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(r.a.mark((function e(t,n){var s,a,c,o,i,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:return s=e.sent.Mnemonic.to_seed(t,""),e.next=5,d;case 5:return a=e.sent.ExtSecretKey.derive_master(s),e.next=8,W(a,n);case 8:return c=e.sent,console.log("changePath",c.toString()),o=F(a,c),e.next=13,d;case 13:return i=e.sent.SecretKey.dlog_from_bytes(o.secret_key_bytes()),e.next=16,d;case 16:return e.t0=e.sent.SecretKeys,(u=new e.t0).add(i),e.next=21,d;case 21:return l=e.sent.Wallet.from_secrets(u),console.log("wallet",l),e.abrupt("return",l);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(a.a)(r.a.mark((function e(t,n){var s,a,c,o,i,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d;case 2:s=e.sent.DerivationPath.new(0,new Uint32Array([0])),a=0,c=0,o=!1;case 4:if(!(a<100)||o){e.next=28;break}case 5:if(!(c<100)||o){e.next=25;break}return e.next=8,d;case 8:return i=e.sent.DerivationPath.new(a,new Uint32Array([c])),u=F(t,i),l=u.public_key(),e.next=13,d;case 13:return e.t0=e.sent.NetworkAddress,e.next=16,d;case 16:if(e.t1=e.sent.NetworkPrefix.Mainnet,e.t2=l.to_address(),e.t0.new.call(e.t0,e.t1,e.t2).to_base58()!==n){e.next=22;break}return o=!0,e.abrupt("break",25);case 22:c++,e.next=5;break;case 25:o||a++,e.next=4;break;case 28:return e.next=30,d;case 30:return s=e.sent.DerivationPath.new(a,new Uint32Array([c])),e.abrupt("return",s);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(23).Buffer)},117:function(e,t,n){},118:function(e,t,n){},147:function(e,t){},148:function(e,t){},192:function(e,t){},231:function(e,t){},233:function(e,t){},241:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(7),a=n.n(r),c=n(62),o=n.n(c),i=(n(117),n(8)),u=n(9),d=n(3),l=n(15),x=n(16),h=(n(118),n(1)),p=n.n(h),b=n(2),j=n(43),f=n(11),g=n(110);function O(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"material-icons "+e.color,onClick:e.onClick,"data-tip":!0,"data-for":e.id,children:e.icon}),Object(s.jsx)(g.a,{id:e.id,place:"top",effect:"solid",html:!0,children:e.tips}),"\xa0"]})}function v(e){return Object(s.jsxs)("div",{className:"flew-row d-flex align-content-center p-1",children:[Object(s.jsxs)("label",{className:"col-sm",htmlFor:"ref",children:[e.label,":\xa0"]}),Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{className:"form-control grey-input",id:"ref",pattern:"[a-zA-Z0-9]*",onChange:function(t){return e.onChange(t.target.value)},value:e.value,type:e.type})}),"\xa0",e.onClick?Object(s.jsx)(O,{color:"blue",icon:"download",tips:"Fetch explorer",onClick:function(t){return e.onClick()}}):null]})}function m(e){return Object(s.jsxs)("div",{className:"d-flex flew-row",children:["\xa0",Object(s.jsx)(O,{id:e.id,color:e.color,icon:e.icon,tips:e.label,onClick:e.onClick}),"\xa0",e.label]})}function w(e){return Object(s.jsxs)("div",{className:"flew-row d-flex align-items-center",children:[Object(s.jsxs)("label",{htmlFor:"input-address",children:[e.label,":\xa0"]}),Object(s.jsx)("div",{className:"col-sm",children:Object(s.jsx)("input",{className:"form-control grey-input",id:"input-address",pattern:"[a-zA-Z0-9]*",onChange:function(t){return e.onChange(t.target.value)},value:e.value})}),"\xa0",Object(s.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(s.jsx)(m,{id:"fetch-explorer",color:"blue",icon:"download",label:"Fetch explorer",onClick:function(t){return e.onClick()}}),Object(s.jsx)(m,{id:"fetch-yoroi",color:"blue",icon:"download",label:"Fetch dApp connector",onClick:function(t){return e.fetchYoroi()}})]})]})}var y=n(17);var k=n(33),B="https://api.ergoplatform.com/api/v0";function S(e){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(k.a)(B+t).then((function(e){return{data:e}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return I.apply(this,arguments)}function I(){return(I=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S("/blocks?limit=1").then((function(e){return e.data})).then((function(e){return e.items[0].height})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S("/transactions/boxes/byAddress/unspent/".concat(e)).then((function(e){return e.data}))}function N(e){return S("/transactions/boxes/".concat(e)).then((function(e){return e.data}))}var E=n(10);function R(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";if(console.log(e),void 0===e)return{};var s={};return"input"===n&&(s.boxId="id"in e?e.id:e.boxId),s.value=e.value.toString(),s.ergoTree=e.ergoTree,Array.isArray(e.assets)?s.assets=e.assets.map((function(e){return{tokenId:e.tokenId,amount:e.amount.toString()}})):s.assets=[],s.additionalRegisters=_(e.additionalRegisters),s.creationHeight=e.creationHeight,"input"===n&&(s.transactionId="txId"in e?e.txId:e.transactionId,s.index=e.index),t&&(s.extension={}),s}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input",s=[];for(var r in e)s.push(R(e[r],t,n));return s}function J(e){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(p.a.mark((function e(t){var n,s,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],e.t0=p.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=12;break}return s=e.t1.value,r="boxId","id"in t[s]&&(r="id"),e.next=8,N(t[s][r]);case 8:a=e.sent,n.push(R(a)),e.next=2;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){var t={};return Object.entries(e).forEach((function(e){var n,s=Object(y.a)(e,2),r=s[0],a=s[1];"object"!==typeof(n=a)||null===n||n instanceof Array||n instanceof Date?t[r]=a:t[r]=a.serializedValue})),t}function Y(e){return{boxId:e.boxId,spendingProof:e.spendingProof,extension:{}}}function F(e){console.log("generateSwaggerTx",e);var t,n={},s=[],r=Object(j.a)(e.inputs);try{for(r.s();!(t=r.n()).done;){var a=t.value;s.push(Y(a))}}catch(c){r.e(c)}finally{r.f()}return e.hasOwnProperty("tx_id")&&(n.id=e.tx_id),n.inputs=s,e.hasOwnProperty("data_inputs")?n.dataInputs=e.data_inputs:n.dataInputs=e.dataInputs,n.outputs=e.outputs,n}function M(e){return e.reduce((function(e,t){return e+BigInt(t.value)}),BigInt(0))}function G(e){var t={};for(var n in e)for(var s in e[n].assets)e[n].assets[s].tokenId in t?t[e[n].assets[s].tokenId]=parseInt(t[e[n].assets[s].tokenId])+parseInt(e[n].assets[s].amount):t[e[n].assets[s].tokenId]=parseInt(e[n].assets[s].amount);return t}function U(e,t){var n=M(e),s=M(t);return n>=s?n-s:0}function P(e,t){var n=G(e),s=G(t),r={};if(console.log("getMissingTokens",n,s),n!=={})for(var a in n)s!=={}&&a in s?n[a]-s[a]>0&&(r[a]=n[a]-s[a]):r[a]=n[a];return r}function W(e){var t=[];if(e!=={})for(var n in e)t.push({tokenId:n,amount:e[n].toString()});return t}function Q(){return(Q=Object(b.a)(p.a.mark((function e(t,n,s){var r,a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U(t,n).toString(),e.next=3,Object(E.b)(s);case 3:return a=e.sent,c=W(P(t,n)),e.next=7,T();case 7:return o=e.sent,console.log("buildBalanceBox",r,a,c,o),e.abrupt("return",{value:r,ergoTree:a,assets:c,additionalRegisters:{},creationHeight:o,extension:{}});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=parseFloat(parseInt(M(e.list))/1e9).toFixed(4),n=G(e.list);return Object(s.jsxs)("div",{className:"card m-1 p-1",children:[Object(s.jsx)("div",{className:"d-flex flex-row",children:Object(s.jsxs)("h6",{children:["Total selected:\xa0 ",t," ERG"]})}),Object.keys(n).length>0?Object(s.jsxs)("table",{border:"1",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Tokens"})}),Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Amount"})})]})}),Object(s.jsx)("tbody",{children:Object.entries(n).map((function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:n}),Object(s.jsx)("td",{children:r})]},n)}))})]}):Object(s.jsxs)("h6",{children:["No token in selected ",e.name," boxes"]})]})}var H=n(45),Z=n(64),V=n(27),K=n.n(V),X=function(e){Object(l.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={onEdit:e.onEdit,json:e.json,delete:e.delete,key:e.key,id:e.id,moveUp:e.moveUp,moveDown:e.moveDown},s}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({json:e.json})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"card m-1 p-1 row",id:this.state.id,children:[this.state.delete?Object(s.jsxs)("div",{className:"d-flex ",children:[Object(s.jsxs)("h6",{children:["OUTPUTS(",this.state.id,")"]}),"\xa0",Object(s.jsxs)("div",{className:"p-1 d-flex flex-row",children:[Object(s.jsx)(O,{id:"move-up",color:"green",onClick:function(){e.state.moveUp(e.state.id)},icon:"arrow_upward",tips:"Move up"}),Object(s.jsx)(O,{id:"move-down",color:"green",onClick:function(){e.state.moveDown(e.state.id)},icon:"arrow_downward",tips:"Move down"}),Object(s.jsx)(O,{id:"delete",color:"red",onClick:function(){e.state.delete(e.state.id)},icon:"clear",tips:"Delete output box"})]})]}):null,Object(s.jsx)(K.a,{src:this.state.json,theme:"monokai",collapsed:!1,name:!1,collapseStringsAfterLength:25,onEdit:function(t){e.state.onEdit(e.state.id,t.updated_src),e.setState({json:t.updated_src})},onAdd:function(t){if("assets"===t.name){var n={tokenId:"",amount:0};e.setState((function(e){return{json:Object(Z.a)(Object(Z.a)({},e.json),{},Object(H.a)({},"assets",[].concat(Object(f.a)(e.json.assets),[n])))}}))}else e.setState({json:t.updated_src})},onDelete:function(t){console.log("onDelete",t),e.setState({json:t.updated_src})}})]},this.state.key)}}]),n}(a.a.Component),q=function(e){Object(l.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).setLongArrayEncoded=function(e){s.setState({longArray:e.target.value.split(",")}),Object(E.e)(e.target.value.split(",")).then((function(e){s.setState({longArrayEncoded:e.encode_to_base16()})})).catch((function(e){console.log(e),s.setState({longArrayEncoded:"Invalid long array"})}))},s.setLongEncoded=function(e){s.setState({long:parseInt(e.target.value)}),Object(E.d)(e.target.value).then((function(e){s.setState({longEncoded:e.encode_to_base16()})})).catch((function(e){console.log(e),s.setState({longEncoded:"Invalid long"})}))},s.setIntEncoded=function(e){s.setState({int:parseInt(e.target.value)}),Object(E.c)(e.target.value).then((function(t){console.log(t,e),s.setState({intEncoded:t.encode_to_base16()})})).catch((function(e){console.log("error",e),s.setState({intEncoded:"Invalid integer"})}))},s.setSigmaPropEncoded=function(e){s.setState({sigmaProp:e.target.value}),Object(E.a)(e.target.value).then((function(t){console.log(t,e),s.setState({sigmaPropEncoded:t.encode_to_base16()})})).catch((function(e){console.log(e),s.setState({sigmaPropEncoded:"Invalid address"})}))},s.setAddressContractEncoded=function(e){s.setState({addressContract:e.target.value}),Object(E.b)(e.target.value).then((function(t){console.log(t,e),s.setState({addressContractEncoded:t})})).catch((function(e){console.log(e),s.setState({addressContractEncoded:"Invalid address"})}))},s.setCollByteEncoded=function(e){s.setState({collByte:e.target.value}),Object(E.f)(e.target.value).then((function(t){console.log(t,e),s.setState({collByteEncoded:t})}))},s.setNanoErg=function(e){s.setState({erg:e.target.value}),Object(E.f)(e.target.value).then((function(t){s.setState({nanoErg:parseInt(1e9*parseFloat(e.target.value))})}))},s.state={onEdit:e.onChange,reset:e.reset,json:e.json,add:e.add,fee:e.fee,balance:e.balance,collByte:"",collByteEncoded:"",sigmaProp:"",sigmaPropEncoded:"",int:"",intEncoded:"",long:"",longEncoded:"",longArray:["1","0"],longArrayEncoded:"",addressContract:"",addressContractEncoded:""},s.setLongEncoded=s.setLongEncoded.bind(Object(d.a)(s)),s.setLongArrayEncoded=s.setLongArrayEncoded.bind(Object(d.a)(s)),s.setIntEncoded=s.setIntEncoded.bind(Object(d.a)(s)),s.setSigmaPropEncoded=s.setSigmaPropEncoded.bind(Object(d.a)(s)),s.setCollByteEncoded=s.setCollByteEncoded.bind(Object(d.a)(s)),s.setNanoErg=s.setNanoErg.bind(Object(d.a)(s)),s.setAddressContractEncoded=s.setAddressContractEncoded.bind(Object(d.a)(s)),s}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({json:e.json})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"card p-1 m-1",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:Object(s.jsx)("h6",{children:"Converter"})}),Object(s.jsx)("th",{children:"Value"}),Object(s.jsx)("th",{children:"Converted"})]})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"ERG > NanoERG"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.erg,type:"number",step:"0.000000001",min:"0",max:"10000000",onChange:this.setNanoErg})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.nanoErg,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Coll[byte]"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.collByte,onChange:this.setCollByteEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.collByteEncoded,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"SigmaProp"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.sigmaProp,onChange:this.setSigmaPropEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.sigmaPropEncoded,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Int"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.int,type:"number",step:"1",min:"0",max:"100000000000000000",onChange:this.setIntEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.intEncoded,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Long"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.long,type:"number",step:"1",min:"0",max:"100000000000000000",onChange:this.setLongEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.longEncoded,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Coll[Long]"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.longArray,onChange:this.setLongArrayEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.longArrayEncoded,readOnly:!0})})]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Pay to address"}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"grey-input",value:this.state.addressContract,onChange:this.setAddressContractEncoded})}),Object(s.jsx)("td",{children:Object(s.jsx)("input",{className:"w-100 grey-input",defaultValue:this.state.addressContractEncoded,readOnly:!0})})]})]})]})}),Object(s.jsxs)("div",{className:"card p-1 m-1",children:[Object(s.jsxs)("div",{className:"d-flex ",children:[Object(s.jsx)("h6",{children:"New OUTPUT box"}),"\xa0",Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsx)(O,{id:"reset",color:"red",onClick:this.state.reset,icon:"restart_alt",tips:"Reset"}),Object(s.jsx)(O,{id:"fee",color:"blue",onClick:this.state.fee,icon:"monetization_on",tips:"Setup transaction fee output box<br/>(default 0.002 ERG)"}),Object(s.jsx)(O,{id:"balance",color:"blue",onClick:this.state.balance,icon:"balance",tips:"Setup a change box to balance the transaction.<br/>Add not attribuated ERG and tokens in inputs to the box.<br/>Set the ergoTree to the configured address."}),Object(s.jsx)(O,{id:"add",color:"green",onClick:this.state.add,icon:"add_box",tips:"Add to transation output list"})]})]}),Object(s.jsx)(X,{json:this.state.json,onEdit:this.state.onEdit})]})]})}}]),n}(a.a.Component);function $(e){for(var t=parseInt(M(e.json.inputs)),n=parseInt(M(e.json.outputs)),r=G(e.json.inputs),a=G(e.json.outputs),c={},o=0,i=Object.entries(r);o<i.length;o++){var u=Object(y.a)(i[o],2),d=u[0],l=u[1];c[d]=[parseInt(l),0]}for(var x=0,h=Object.entries(a);x<h.length;x++){var p=Object(y.a)(h[x],2),b=p[0],j=p[1];c[b]=b in c?[c[b][0],parseInt(j)]:[0,parseInt(j)]}return Object(s.jsxs)("div",{className:"card m-1 p-1",children:[Object(s.jsx)("h6",{children:"Transaction summary"}),Object(s.jsxs)("table",{border:"1",children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Asset"})}),Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Inputs"})}),Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Output"})}),Object(s.jsx)("td",{children:Object(s.jsx)("h6",{children:"Check"})})]})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"ERGs"}),Object(s.jsx)("td",{children:parseFloat(t/1e9).toFixed(9).replace(/(\.0+|0+)$/,"")}),Object(s.jsx)("td",{children:parseFloat(n/1e9).toFixed(9).replace(/(\.0+|0+)$/,"")}),Object(s.jsx)("td",{children:t===n?Object(s.jsx)(m,{id:"nanoerg-diff",color:"green",icon:"price_check",label:"OK"}):Object(s.jsx)(m,{id:"nanoerg-diff",color:"red",icon:"error_outline",label:"Wrong erg balance"})})]},"tx-sum-2"),Object.entries(c).map((function(e){var t=Object(y.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:n}),Object(s.jsx)("td",{children:r[0]}),Object(s.jsx)("td",{children:r[1]}),Object(s.jsx)("td",{children:r[0]===r[1]?Object(s.jsx)(m,{id:"token-diff",color:"green",icon:"verified",label:"OK"}):r[0]>r[1]?Object(s.jsx)(m,{id:"token-diff",color:"orange",icon:"warning_amber",label:"Tokens burned in output"}):Object(s.jsx)(m,{id:"token-diff",color:"orange",icon:"error_outline",label:"Not enough token in input"})})]},n)}))]})]})]})}var ee=n(111),te=n.n(ee),ne=function(e){Object(l.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).state={value:e.value,key:e.key,size:256},s.zoomInOut=s.zoomInOut.bind(Object(d.a)(s)),s}return Object(u.a)(n,[{key:"zoomInOut",value:function(){256===this.state.size?this.setState({size:512}):this.setState({size:256})}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"m-1 p-1 ",children:""!==this.state.value?Object(s.jsx)(te.a,{value:this.state.value,size:this.state.size,includeMargin:!0,onClick:this.zoomInOut}):null})}}]),n}(a.a.Component);function se(e){return Object(s.jsx)("div",{className:"d-flex flex-wrap",children:e.list.map((function(e,t){return Object(s.jsx)("div",{className:"m-2",children:Object(s.jsx)(ne,{value:e},t)},t)}))})}var re=n.p+"static/media/logo_telegram.24d175fe.svg",ae=n.p+"static/media/dApps.3d65efcf.svg";function ce(){return Object(s.jsx)("footer",{class:"align-items-center",children:Object(s.jsxs)("div",{class:"col-md-12 text-muted ",children:["\xa9 2021 ThierryM1212\xa0-\xa0",Object(s.jsx)("a",{href:"https://t.me/ThierryM1212",target:"_blank",children:Object(s.jsx)("img",{src:re,width:"20",height:"20",class:"d-inline-block align-top",alt:""})}),"\xa0",Object(s.jsx)("a",{href:"https://github.com/ThierryM1212/",target:"_blank",children:Object(s.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=",width:"20",height:"20",class:"d-inline-block align-top",alt:""})}),"\xa0",Object(s.jsx)("a",{href:"https://dapp.ergo.ga/",target:"_blank",children:Object(s.jsx)("img",{src:ae,width:"50",height:"20",class:"d-inline-block align-top",alt:""})})]})})}function oe(e){return Object(s.jsxs)("div",{className:"d-flex flex-column m-1 p-1",children:[void 0!==e.id?Object(s.jsxs)("h6",{children:["INPUTS(",e.id,")"]}):null,Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsxs)("div",{className:"monospace",children:["Box id: ",(t=e.boxId,n=15,t.length>2*n?t.substring(0,n)+"..."+t.substring(t.length-n,t.length):t),"\xa0"]}),e.moveUp?Object(s.jsx)(O,{id:"move-up",color:"green",onClick:function(){return e.moveUp(e.id)},icon:"arrow_upward",tips:"Move up"}):null,e.moveDown?Object(s.jsx)(O,{id:"move-up",color:"green",onClick:function(){return e.moveDown(e.id)},icon:"arrow_downward",tips:"Move down"}):null,Object(s.jsx)(O,{id:"add",color:e.color,onClick:function(){return e.action(e.json)},icon:e.icon,tips:e.tips}),e.action2?Object(s.jsx)(O,{id:"add2",color:e.color,onClick:function(){return e.action2(e.json)},icon:"post_add",tips:"Add to data inputs"}):null]}),Object(s.jsx)(K.a,{src:e.json,theme:"monokai",collapsed:!0,name:"box",collapseStringsAfterLength:25}),Object(s.jsxs)("div",{className:"d-flex justify-content-between ",children:[Object(s.jsxs)("span",{children:[parseFloat(parseInt(e.json.value)/1e9).toFixed(4)," ERG "]}),Object(s.jsxs)("span",{children:[e.json.assets.length," tokens"]})]})]});var t,n}var ie=n(6);function ue(){return de.apply(this,arguments)}function de(){return(de=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("isYoroiConnected"),e.prev=1,e.next=4,window.ergo_check_read_access();case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function le(){return xe.apply(this,arguments)}function xe(){return(xe=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:if(t=e.sent,console.log("connectYoroi",t),t){e.next=16;break}return e.prev=5,e.next=8,window.ergo_request_read_access().then((function(e){return e}));case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),Object(ie.c)("Yoroi nightly extension not found",e.t0);case 14:e.next=17;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function he(){return(he=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:if(!e.sent){e.next=10;break}return e.next=6,ergo.get_change_address();case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){return be.apply(this,arguments)}function be(){return(be=Object(b.a)(p.a.mark((function e(t){var n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ie.d)("Connecting to Yoroi..."),e.next=3,le();case 3:s=e.sent,console.log("yoroiSignTx",s),s?(n.update({title:"Waiting for transaction signing..."}),ve(t).then((function(e){if(Object(ie.a)(n),e)console.log("[txId]",e),Object(ie.b)(e);else{Object(ie.c)("Transaction not signed","Something went wrong, the transaction was not sent.")}}))):(Object(ie.a)(n),console.log("Wallet access denied"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("signTx",t),e.next=4,ergo.sign_tx(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ge(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("submitTx",t),e.next=4,ergo.submit_tx(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ve(e){return me.apply(this,arguments)}function me(){return(me=Object(b.a)(p.a.mark((function e(t){var n,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){console.log("[processTx]",e)},e.next=3,je(t);case 3:if(s=e.sent){e.next=7;break}return console.error("No signed transaction found"),e.abrupt("return",null);case 7:return n("Transaction signed - awaiting submission"),e.next=10,ge(s);case 10:if(r=e.sent){e.next=14;break}return console.log("No submitted tx ID"),e.abrupt("return",null);case 14:return n("Transaction submitted "),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ergo.get_utxos();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=n(19),ke=n.n(ye),Be=n(44),Se={value:"0",ergoTree:"",assets:[],additionalRegisters:{},creationHeight:6e5,extension:{}},Ae={value:"2000000",ergoTree:"1005040004000e36100204a00b08cd0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798ea02d192a39a8cc7a701730073011001020402d19683030193a38cc7b2a57300000193c2b2a57301007473027303830108cdeeac93b1a57304",assets:[],additionalRegisters:{},creationHeight:6e5,extension:{}},Te=function(e){Object(l.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).setCreateBoxJson=function(e,t){s.setState({outputCreateJson:t})},s.setOutputItem=function(e,t){console.log("setOutputItem",e,t);var n=Object(f.a)(s.state.outputList);n[e]=t,s.setState({outputList:n})},s.resetCreateBoxJson=function(){s.setState({outputCreateJson:Se})},s.setFeeBoxJson=function(){s.setState({outputCreateJson:Ae})},s.setBalanceBoxBoxJson=function(){(function(e,t,n){return Q.apply(this,arguments)})(s.state.selectedBoxList,s.state.outputList,s.state.address).then((function(e){console.log("balanceBox",e),BigInt(e.value)<1e4?Object(ie.c)("Not enough ERG in inputs"):s.setState({outputCreateJson:e})}))},s.state={address:e.address,setAddress:e.setAddress,addressBoxList:[],otherBoxList:[],outputList:[],selectedBoxList:[],selectedDataBoxList:[],searchBoxId:e.searchBoxId,setSearchBoxId:e.setSearchBoxId,searchAddress:e.searchAddress,setSearchAddress:e.setSearchAddress,outputCreateJson:Se,txJsonRaw:"",txReduced:[],CSR:[],signedTransaction:{},mnemonic:""},s.fetchUtxos=s.fetchUtxos.bind(Object(d.a)(s)),s.fetchByBoxId=s.fetchByBoxId.bind(Object(d.a)(s)),s.fetchByAddress=s.fetchByAddress.bind(Object(d.a)(s)),s.selectInputBox=s.selectInputBox.bind(Object(d.a)(s)),s.selectDataInputBox=s.selectDataInputBox.bind(Object(d.a)(s)),s.unSelectInputBox=s.unSelectInputBox.bind(Object(d.a)(s)),s.unSelectDataInputBox=s.unSelectDataInputBox.bind(Object(d.a)(s)),s.fetchYoroi=s.fetchYoroi.bind(Object(d.a)(s)),s.addOutputBox=s.addOutputBox.bind(Object(d.a)(s)),s.resetCreateBoxJson=s.resetCreateBoxJson.bind(Object(d.a)(s)),s.unSelectOutoutBox=s.unSelectOutoutBox.bind(Object(d.a)(s)),s.moveOutputBoxDown=s.moveOutputBoxDown.bind(Object(d.a)(s)),s.moveOutputBoxUp=s.moveOutputBoxUp.bind(Object(d.a)(s)),s.moveInputBoxUp=s.moveInputBoxUp.bind(Object(d.a)(s)),s.moveInputBoxDown=s.moveInputBoxDown.bind(Object(d.a)(s)),s.setSearchAddress=s.setSearchAddress.bind(Object(d.a)(s)),s.setTxJsonRaw=s.setTxJsonRaw.bind(Object(d.a)(s)),s.getYoroiTx=s.getYoroiTx.bind(Object(d.a)(s)),s.setTxYoroiJsonRaw=s.setTxYoroiJsonRaw.bind(Object(d.a)(s)),s.setTxSwaggerJsonRaw=s.setTxSwaggerJsonRaw.bind(Object(d.a)(s)),s.loadTxFromJsonRaw=s.loadTxFromJsonRaw.bind(Object(d.a)(s)),s.setTxReduced=s.setTxReduced.bind(Object(d.a)(s)),s.loadTxReduced=s.loadTxReduced.bind(Object(d.a)(s)),s.resetTxReduced=s.resetTxReduced.bind(Object(d.a)(s)),s.setSignedTransaction=s.setSignedTransaction.bind(Object(d.a)(s)),s.setMnemonic=s.setMnemonic.bind(Object(d.a)(s)),s.signTxReduced=s.signTxReduced.bind(Object(d.a)(s)),s.signTx=s.signTx.bind(Object(d.a)(s)),s.sendTxNode=s.sendTxNode.bind(Object(d.a)(s)),s.sendTxYoroi=s.sendTxYoroi.bind(Object(d.a)(s)),s.signTxJsonMnemonic=s.signTxJsonMnemonic.bind(Object(d.a)(s)),s.loadSignedTxFromJson=s.loadSignedTxFromJson.bind(Object(d.a)(s)),s}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({address:e.address,searchBoxId:e.searchBoxId,searchAddress:e.searchAddress})}},{key:"fetchUtxos",value:function(){var e=this;C(this.state.address).then((function(t){if(404!==t.status){var n=L(t,!0);e.setState({addressBoxList:n})}})).catch((function(e){console.log(e),Object(ie.c)("Error fetching from explorer",e)}))}},{key:"fetchByAddress",value:function(){var e=this;C(this.state.searchAddress).then((function(t){if(404!==t.status){var n,s=L(t,!0),r=Object(j.a)(s);try{var a=function(){var t=n.value;e.setState((function(e){return{otherBoxList:[].concat(Object(f.a)(e.otherBoxList),[t])}}))};for(r.s();!(n=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}}})).catch((function(e){console.log(e),Object(ie.c)("Error fetching from explorer",e)}))}},{key:"fetchByBoxId",value:function(){var e=this;N(this.state.searchBoxId).then((function(t){var n=R(t,!0);e.setState((function(e){return{otherBoxList:[].concat(Object(f.a)(e.otherBoxList),[n])}}))})).catch((function(e){console.log(e),Object(ie.c)("Error fetching from explorer",e)}))}},{key:"setSearchAddress",value:function(e){this.setState({address:e})}},{key:"setSignedTransaction",value:function(e){this.setState({signedTransaction:e})}},{key:"setMnemonic",value:function(e){this.setState({mnemonic:e})}},{key:"fetchYoroi",value:function(){var e=this,t=Object(ie.d)("Connecting to wallet...");le().then((function(n){n?(t.update({title:"Get wallet content..."}),function(){return we.apply(this,arguments)}().then((function(t){console.log("utxos",t),e.setState({addressBoxList:L(t)})})).then(function(){return he.apply(this,arguments)}().then((function(n){e.setSearchAddress(n),t.close()})))):(console.log("Wallet access failed"),Object(ie.c)("Wallet access failed"))}))}},{key:"selectInputBox",value:function(e){if(!Array.isArray(e)){var t=!1;for(var n in this.state.selectedBoxList)this.state.selectedBoxList[n].boxId===e.boxId&&(t=!0);t||this.setState((function(t){return{selectedBoxList:[].concat(Object(f.a)(t.selectedBoxList),[e])}}))}}},{key:"selectDataInputBox",value:function(e){if(!Array.isArray(e)){var t=!1;for(var n in this.state.selectedDataBoxList)this.state.selectedDataBoxList[n].boxId===e.boxId&&(t=!0);t||this.setState((function(t){return{selectedDataBoxList:[].concat(Object(f.a)(t.selectedDataBoxList),[e])}}))}}},{key:"unSelectInputBox",value:function(e){Array.isArray(e)||this.setState((function(t){return{selectedBoxList:t.selectedBoxList.filter((function(t){return t.boxId!==e.boxId}))}}))}},{key:"unSelectDataInputBox",value:function(e){Array.isArray(e)||this.setState((function(t){return{selectedDataBoxList:t.selectedDataBoxList.filter((function(t){return t.boxId!==e.boxId}))}}))}},{key:"unSelectOutoutBox",value:function(e){console.log("unSelectOutoutBox",e,this.state.outputList);var t=Object(f.a)(this.state.outputList);t.splice(e,1),this.setState({outputList:t})}},{key:"addOutputBox",value:function(){this.setState((function(e){return{outputList:[].concat(Object(f.a)(e.outputList),[e.outputCreateJson])}})),this.resetCreateBoxJson()}},{key:"moveOutputBoxUp",value:function(e){if(console.log("moveOutputBoxUp",e),e>0){var t=Object(f.a)(this.state.outputList);t[e]=this.state.outputList[e-1],t[e-1]=this.state.outputList[e],this.setState({outputList:t})}}},{key:"moveOutputBoxDown",value:function(e){if(console.log("moveOutputBoxDown",e),e<this.state.outputList.length-1){var t=Object(f.a)(this.state.outputList);t[e]=this.state.outputList[e+1],t[e+1]=this.state.outputList[e],this.setState({outputList:t})}}},{key:"moveInputBoxUp",value:function(e){if(console.log("moveInputBoxUp",e),e>0){var t=Object(f.a)(this.state.selectedBoxList);t[e]=this.state.selectedBoxList[e-1],t[e-1]=this.state.selectedBoxList[e],this.setState({selectedBoxList:t})}}},{key:"moveInputBoxDown",value:function(e){if(console.log("moveInputBoxUp",e),e<this.state.selectedBoxList.length-1){var t=Object(f.a)(this.state.selectedBoxList);t[e]=this.state.selectedBoxList[e+1],t[e+1]=this.state.selectedBoxList[e],this.setState({selectedBoxList:t})}}},{key:"signAndSendTxYoroi",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:t=e.sent,console.log("signAndSendTxYoroi",t),t?(n=pe(this.getYoroiTx()),console.log("signAndSendTxYoroi txSent",n)):console.log("Not connected to wallet");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signTxYoroi",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ie.d)("Connecting wallet..."),e.next=3,le();case 3:if(n=e.sent,console.log("signTxYoroi",n),!n){e.next=15;break}return t.update("Waiting transaction signing..."),e.next=9,je(this.getYoroiTx());case 9:s=e.sent,this.setSignedTransaction(s),console.log("signTxYoroi txSigned",s),t.close(),e.next=17;break;case 15:console.log("Not connected to wallet"),Object(ie.c)("Not connected to wallet");case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTxYoroi",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ie.d)("Connecting wallet..."),e.next=3,le();case 3:if(n=e.sent,console.log("sendTxYoroi",n),!n){e.next=15;break}return t.update("Sending transaction..."),e.next=9,ge(this.state.signedTransaction);case 9:s=e.sent,console.log("sendTxYoroi txSubmitted",s),Object(ie.b)(s),t.close(),e.next=17;break;case 15:console.log("Not connected to wallet"),Object(ie.c)("Not connected to wallet");case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getYoroiTx",value:function(){return{inputs:this.state.selectedBoxList,outputs:this.state.outputList,dataInputs:this.state.selectedDataBoxList}}},{key:"setTxJsonRaw",value:function(e){this.setState({txJsonRaw:e})}},{key:"setTxYoroiJsonRaw",value:function(){this.setTxJsonRaw(ke.a.stringify(this.getYoroiTx()))}},{key:"setTxSwaggerJsonRaw",value:function(){this.setTxJsonRaw(ke.a.stringify(F(this.getYoroiTx())))}},{key:"setTxReduced",value:function(){var e=this;Object(E.h)(this.getYoroiTx(),this.state.selectedBoxList,this.state.selectedDataBoxList,this.state.address).then((function(t){e.setState({txReduced:t[0],CSR:t[1]})}))}},{key:"resetTxReduced",value:function(){this.setState({txReduced:[],CSR:[]})}},{key:"loadTxReduced",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("loadTxReduced",this.state.txJsonRaw),Object(E.g)(this.state.txJsonRaw).then((function(e){t.loadTxFromJson(e)})).catch((function(e){Object(ie.c)("Error trying to load reduced transaction:",e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signTxReduced",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(E.i)(this.state.txReduced,this.state.mnemonic,this.state.address).then((function(e){console.log("signTxReduced",e),t.setSignedTransaction(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signTxJsonMnemonic",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(E.j)(this.getYoroiTx(),this.state.selectedBoxList,this.state.selectedDataBoxList,this.state.mnemonic,this.state.address);case 3:t=e.sent,console.log("signTxJsonMnemonic",t),this.setSignedTransaction(F(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(ie.c)("Failed to sign transaction",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"signTx",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:je(this.getYoroiTx(),this.state.selectedBoxList,this.state.selectedDataBoxList,this.state.mnemonic).then((function(e){t.setSignedTransaction(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTxNode",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Be.b)(this.state.signedTransaction);case 2:t=e.sent,console.log("sendTxNode",t),t.hasOwnProperty("ok")&&t.ok?Object(ie.b)(this.state.signedTransaction.id):Object(ie.c)("Failed to send transaction to node",JSON.stringify(t));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTxFromJsonRaw",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ke.a.parse(this.state.txJsonRaw),console.log("loadTxFromJsonRaw",t),e.next=4,this.loadTxFromJson(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadTxFromJson",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var n,s,r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],s=[],r=[],a=t,e.prev=4,"tx"in t&&(a=t.tx),e.next=8,J(a.inputs);case 8:return n=e.sent,e.next=11,J(a.dataInputs);case 11:s=e.sent,r=L(a.outputs,!0,"output"),this.setState({selectedBoxList:n,selectedDataBoxList:s,outputList:r}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),Object(ie.c)("Failed to parse transaction json",e.t0);case 20:case"end":return e.stop()}}),e,this,[[4,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSignedTxFromJson",value:function(){this.setSignedTransaction(ke.a.parse(this.state.txJsonRaw))}},{key:"render",value:function(){var e=this,t=this.getYoroiTx();return"Features:<br />"," - Get unspent boxes from Explorer or browser extension wallet<br />"," - Get boxes by address or boxId to execute smart contracts<br />"," - Build output boxes with the editor<br />"," - Sign the transaction with dApp connector or Mnemonic<br />"," - Send transaction to dApp connector or local Ergo node",Object(s.jsxs)(r.Fragment,{children:[Object(s.jsxs)("div",{className:"w-100 container",children:[Object(s.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[Object(s.jsx)("h4",{children:"Transaction builder"}),"\xa0",Object(s.jsx)(O,{id:"help-tx-builder",icon:"help_outline",tips:"The application is intended to manipulate json of Ergo transaction to build smart contracts.<br />Features:<br /> - Get unspent boxes from Explorer or browser extension wallet<br /> - Get boxes by address or boxId to execute smart contracts<br /> - Build output boxes with the editor<br /> - Sign the transaction with dApp connector or Mnemonic<br /> - Send transaction to dApp connector or local Ergo node"})]}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)(w,{label:"ERG address",value:this.state.address,onChange:this.state.setAddress,onClick:this.fetchUtxos,fetchYoroi:this.fetchYoroi}),Object(s.jsx)("div",{className:"d-flex flex-wrap",children:this.state.addressBoxList.map((function(t){return Object(s.jsx)("div",{className:"card m-2",children:Object(s.jsx)(oe,{boxId:t.boxId,json:t,action:e.selectInputBox,action2:e.selectDataInputBox,icon:"add_box",tips:"Add to selected inputs",color:"green"})},t.boxId)}))})]})}),Object(s.jsx)("div",{className:"container-xxl w-100",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Additional boxes"}),Object(s.jsx)(v,{label:"Search by boxId",value:this.state.searchBoxId,onChange:this.state.setSearchBoxId,onClick:this.fetchByBoxId}),Object(s.jsx)(v,{label:"Search by script address",value:this.state.searchAddress,onChange:this.state.setSearchAddress,onClick:this.fetchByAddress}),Object(s.jsx)("div",{className:"d-flex flex-wrap",children:this.state.otherBoxList.map((function(t){return Object(s.jsx)("div",{className:"card m-2",children:Object(s.jsx)(oe,{boxId:t.boxId,json:t,action:e.selectInputBox,action2:e.selectDataInputBox,icon:"add_box",tips:"Add to selected inputs",color:"green"})},t.boxId)}))})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Selected data input boxes"}),Object(s.jsx)("div",{className:"d-flex flex-wrap",children:this.state.selectedDataBoxList.map((function(t){return Object(s.jsx)("div",{className:"card m-2 ",children:Object(s.jsx)(oe,{boxId:t.boxId,json:t,action:e.unSelectDataInputBox,icon:"clear",tips:"Remove from selected data inputs",color:"red"})},t.boxId)}))})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{keu:"selected-input-title",children:"Selected input boxes"}),Object(s.jsx)("div",{className:"d-flex flex-wrap",children:this.state.selectedBoxList.map((function(t,n){return Object(s.jsx)("div",{className:"card m-2 ",children:Object(s.jsx)(oe,{boxId:t.boxId,json:t,action:e.unSelectInputBox,icon:"clear",tips:"Remove from selected inputs",id:n,moveUp:e.moveInputBoxUp,moveDown:e.moveInputBoxDown,color:"red"})},n)}))}),Object(s.jsx)(z,{list:this.state.selectedBoxList,name:"inputs",label:"Selected inputs list"})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Output boxes editor"}),Object(s.jsx)(q,{json:this.state.outputCreateJson,onChange:this.setCreateBoxJson,reset:this.resetCreateBoxJson,add:this.addOutputBox,fee:this.setFeeBoxJson,balance:this.setBalanceBoxBoxJson})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Selected output boxes"}),Object(s.jsx)("div",{className:"d-flex flex-wrap",children:this.state.outputList.map((function(t,n,r){return Object(s.jsx)(X,{json:t,onEdit:e.setOutputItem,id:n,delete:e.unSelectOutoutBox,moveUp:e.moveOutputBoxUp,moveDown:e.moveOutputBoxDown},n)}))}),Object(s.jsx)(z,{list:this.state.outputList,name:"outputs",label:"Outputs list"})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Unsigned transaction"}),Object(s.jsx)($,{json:t}),Object(s.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-between",children:[Object(s.jsxs)("div",{className:"d-flex flex-row align-items-center ",children:[Object(s.jsx)("h6",{children:"Sign transaction "}),"\xa0",Object(s.jsx)(O,{id:"sign-and-send-yoroi",color:"blue",icon:"send",tips:"Sign and send transaction with dApp connector",onClick:function(){e.signAndSendTxYoroi(t)}}),Object(s.jsx)(O,{id:"sign-yoroi",color:"blue",icon:"border_color",tips:"Sign transaction with dApp connector",onClick:function(){e.signTxYoroi(t)}}),Object(s.jsx)(O,{id:"sign-mnemonic",color:"orange",icon:"border_color",tips:"Sign with mnemonic",onClick:this.signTxJsonMnemonic}),Object(s.jsx)(O,{id:"help-swagger",icon:"help_outline",tips:"This transaction can be signed using your node wallet and swagger UI:<br />- Unlock the wallet using: $SWAGGER/wallet/unlock/<br />- Sign the transaction copying the Swagger json to $SWAGGER/wallet/transaction/sign<br />- Send the transaction copying the signed json to $SWAGGER/transactions<br />This should be used after having add the fee box."})]}),Object(s.jsx)(v,{label:"Mnemonic",value:this.state.mnemonic,onChange:this.setMnemonic,type:"password"})]}),Object(s.jsx)(K.a,{id:"unsigned-tx-json",src:F(t),theme:"monokai",collapsed:!0,name:!1,collapseStringsAfterLength:60}),Object(s.jsxs)("div",{className:"d-flex flex-column",children:[Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsx)("h6",{children:"Transaction reduced"})," \xa0",Object(s.jsx)(O,{id:"get-reduced-tx",color:"red",icon:"restart_alt",tips:"Reset reduced transaction",onClick:this.resetTxReduced}),Object(s.jsx)(O,{id:"set-reduced-tx",color:"blue",icon:"calculate",tips:"Get reduced transaction and <br/> ColdSignigRequest",onClick:this.setTxReduced}),Object(s.jsx)(O,{id:"sign-reduced-mnemonic",color:"orange",icon:"border_color",tips:"Sign reduced transaction with mnemonic",onClick:this.signTxReduced})]}),""!==this.state.txReduced.join("")?Object(s.jsxs)("div",{className:"d-flex flex-column",children:[Object(s.jsx)("textarea",{id:"reducedTxTextArea",defaultValue:this.state.txReduced.join(""),readOnly:!0}),Object(s.jsx)(se,{list:this.state.txReduced}),Object(s.jsx)("h6",{children:"Cold Signing Request (EIP-19)"}),Object(s.jsx)("textarea",{id:"ColdSignigRequest",defaultValue:this.state.CSR.join(""),readOnly:!0}),Object(s.jsx)(se,{list:this.state.CSR})]}):null]})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsx)("h6",{children:"Signed transaction"}),"\xa0",Object(s.jsx)(O,{id:"send-tx-yoroi",color:"blue",icon:"send",tips:"Send to dApp connector",onClick:this.sendTxYoroi}),Object(s.jsx)(O,{id:"send-tx-node",color:"orange",icon:"send",tips:"Send to node",onClick:this.sendTxNode})]}),Object(s.jsx)("div",{children:Object(s.jsx)(K.a,{id:"signed-tx-json",src:this.state.signedTransaction,theme:"monokai",collapsed:!0,name:!1,collapseStringsAfterLength:60})})]})}),Object(s.jsx)("div",{className:"w-100 container-xxl ",children:Object(s.jsxs)("div",{className:"card p-1 m-2 w-100",children:[Object(s.jsx)("h6",{children:"Transaction import/export"}),Object(s.jsxs)("div",{className:"d-flex flex-row p-1",children:[Object(s.jsx)(m,{id:"get-yoroi-tx",color:"blue",icon:"download",label:"Get dApp connector format",onClick:this.setTxYoroiJsonRaw}),Object(s.jsx)(m,{id:"get-swagger-tx",color:"blue",icon:"download",label:"Get Swagger format",onClick:this.setTxSwaggerJsonRaw}),Object(s.jsx)(m,{id:"load-tx-json",color:"blue",icon:"upload",label:"Load transaction json",onClick:this.loadTxFromJsonRaw}),Object(s.jsx)(m,{id:"load-tx-reduced",color:"blue",icon:"upload",label:"Load transaction reduced",onClick:this.loadTxReduced}),null]}),Object(s.jsx)("textarea",{value:this.state.txJsonRaw,onChange:function(t){return e.setTxJsonRaw(t.target.value)}})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}),Object(s.jsx)("br",{}),Object(s.jsx)(ce,{})]})}}]),n}(a.a.Component),Ie=function(e){Object(l.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(i.a)(this,n),(s=t.call(this,e)).setAddress=function(e){console.log("setAddress",e),s.setState({address:e}),localStorage.setItem("address",e)},s.setSearchBoxId=function(e){console.log("setSearchBoxId",e),s.setState({searchBoxId:e})},s.setSearchAddress=function(e){console.log("setSearchAddress",e),s.setState({searchAddress:e})},s.state={address:localStorage.getItem("address"),searchBoxId:"",searchAddress:""},s.setAddress=s.setAddress.bind(Object(d.a)(s)),s}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)(Te,{address:this.state.address,setAddress:this.setAddress,searchBoxId:this.state.searchBoxId,setSearchBoxId:this.setSearchBoxId,searchAddress:this.state.searchAddress,setSearchAddress:this.setSearchAddress})})})}}]),n}(a.a.Component),Ce=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,249)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(Ie,{})}),document.getElementById("root")),Ce()},33:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var s=n(1),r=n.n(s),a=n(17),c=n(2),o=n(6);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(r.a.mark((function e(t){var n,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.length>1&&void 0!==s[1]?s[1]:{},s.length>2&&void 0!==s[2]?s[2]:"",console.log("post",t),fetch(t,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json",mode:"cors","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"},body:JSON.stringify(n)}).then((function(e){return Promise.all([e.ok,e.json()])})).then((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];if(n)return Object(o.b)(s),JSON.parse(s);console.log("fetch2",s),Object(o.c)("Failed to fetch",JSON.stringify(s))})).catch((function(e){console.log("fetch3",e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t){var n,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"",e.next=3,fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json",api_key:n}}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return p}));var s=n(1),r=n.n(s),a=n(2),c=n(33),o="http://213.239.193.208:9053";function i(e){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(o+t).then((function(e){return{data:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return l.apply(this,arguments)}function l(){return(l=Object(a.a)(r.a.mark((function e(t){var n,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},s.length>2&&void 0!==s[2]?s[2]:"",e.next=4,Object(c.b)(o+t,n).then((function(e){return{data:e}})).catch((function(e){return console.log("postRequest",e),{data:e.toString()}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return h.apply(this,arguments)}function h(){return(h=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("/blocks/lastHeaders/10").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return b.apply(this,arguments)}function b(){return(b=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/transactions",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l}));var s=n(0),r=n(47),a=(n(122),n(46)),c=n.n(a),o=n.p+"static/media/Spin-1.5s-94px.56d7f495.svg";function i(e){var t=c()(r.a);return t.fire({title:Object(s.jsx)("p",{children:e}),imageUrl:o,allowOutsideClick:!0,showConfirmButton:!1}),t}function u(e){e.close()}function d(e,t){var n=c()(r.a);return n.fire({title:Object(s.jsx)("p",{children:e}),icon:"error",text:t,allowOutsideClick:!1}),n}function l(e){var t=c()(r.a);return t.fire({title:Object(s.jsx)("p",{children:"Transaction sent succesfully"}),allowOutsideClick:!1,icon:"success",html:'<p>The transaction will be visible in your wallet and in the explorer in few seconds: <a href="https://explorer.ergoplatform.com/en/transactions/'.concat(e,'" target="_blank" > ').concat(e," </a></p>")}),t}}},[[241,1,2]]]);
//# sourceMappingURL=main.5408c20c.chunk.js.map