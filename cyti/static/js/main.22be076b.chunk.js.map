{"version":3,"sources":["utils/Alerts.js","utils/utils.js","ergo-related/serializer.js","components/MintRequests.js","utils/CYTIRequest.js","components/MintRequest.js","ergo-related/explorer.js","ergo-related/wasm.js","ergo-related/wallet.js","components/InputAddress.js","images/ergo-erg-logo.png","components/Footer.js","images/Github.png","components/HelpToolTip.js","images/help_outline_blue_48dp.png","components/ThemedSelect.js","components/MintToken.js","utils/TokenMintDesc.js","components/LoadButton.js","images/file_download_black_48dp.png","components/MintTokens.js","components/MintTabs.js","images/highlight_off_black_48dp.png","images/add_circle_outline_black_48dp.png","images/file_upload_black_48dp.png","App.js","reportWebVitals.ts","index.tsx","ergo-related/mint.js","utils/constants.js","ergo-related/rest.js","components/TokenMedia.js"],"names":["waitingAlert","title","MySwal","withReactContent","Swal","fire","allowOutsideClick","showConfirmButton","errorAlert","msg","icon","text","displayErgoPayTransaction","txId","reducedTx","html","className","onClick","url","window","open","focus","location","reload","promptErgAddr","Promise","resolve","reject","focusConfirm","showCancelButton","preConfirm","a","ergAddress","getPopup","querySelector","value","encodeContract","showValidationMessage","then","result","promptErgAddrList","addrList","inputOptions","addr","formatLongString","input","inputValue","localStorage","getItem","customClass","inputValidator","createHash","require","str","num","length","substring","formatERGAmount","amountStr","parseFloat","parseInt","NANOERG_TO_ERG","toFixed","downloadAndSetSHA256","getBlob","blob","hash","update","Uint8Array","digest","console","log","promiseTimeout","ms","promise","timeout","id","setTimeout","clearTimeout","race","sleep","ergolib","encodeLong","Constant","I64","from_str","from_i64","decodeLong","decode_from_base16","to_i64","to_str","encodeHexConst","reg","from_byte_array","Buffer","from","encodeStrConst","Serializer","stringToHex","toHexString","byteArray","Array","byte","toString","slice","join","decodeHex","encoded","to_byte_array","sigmaPropToAddress","sigmaProp","Address","ErgoTree","from_base16_bytes","recreate_from_ergo_tree","to_base58","address","Contract","from_base58","tmp","pay_to_address","ergo_tree","to_base16_bytes","byteArrayToBase64","binary","len","byteLength","i","String","fromCharCode","btoa","MintRequests","props","state","userMintRequests","this","fetchMintRequests","getUnspentBoxesForAddressUpdated","CYTI_MINT_REQUEST_SCRIPT_ADDRESS","mintBoxes","getUnconfirmedTxsFor","unconfirmedTxs","spentBoxes","newBoxes","map","tx","inputs","flat","outputs","filter","box","spentBoxIds","boxId","concat","includes","addressSigmaPropHex","to_bytes","subarray","from_ecpoint_bytes","sigma_serialize_bytes","additionalRegisters","R6","mintSigmaProp","serializedValue","push","e","setState","cytiBoxJSON","refundAllMintRequests","React","Component","CYTIRequest","boxJSON","full","requestOwner","targetFirstChar","minerAddress","tokAmount","tokName","tokDesc","tokDecimals","tokType","tokMediaHash","tokMediaURL","isProcessed","getRegisterValue","decodeR5Array","tokInfo","tokTypeValue","Object","keys","NFT_TYPES","find","key","o","initialize","to_coll_coll_byte","r","stringFromHex","MintRequest","request","create","mintRequestJSON","refundMintRequest","connectedAddress","statusLabel","tokenType","labelMap","href","TokenMedia","type","width","lbl","htmlFor","startsWith","refund","explorerApi","DEFAULT_EXPLORER_API_ADDRESS","explorerApiV1","getRequest","get","res","data","getRequestV1","currentHeight","items","height","getUnspentBoxesByAddress","limit","getSpentAndUnspentBoxesFromMempool","boxesTmp","spentBlobBoxIds","boxes","getExplorerBlockHeaders","getExplorerBlockHeadersFull","getBalanceForAddress","boxCandidateToJsonMin","boxCandidate","as_i64","as_num","tokens","JSONBigInt","parse","to_json","boxCandidatesToJsonMin","boxCandidates","createTransaction","boxSelection","outputCandidates","dataInputs","changeAddress","utxos","creationHeight","outputJs","missingErgs","getMissingErg","BigInt","TX_FEE","getMissingTokens","BoxValue","changeBoxValue","ErgoBoxCandidateBuilder","changeBoxBuilder","tokId","tokenId","TokenId","TokenAmount","tokenAmount","add_token","add","build","TxBuilder","txBuilder","new","DataInputs","dataInputsWASM","boxIdWASM","BoxId","DataInput","dataInputWASM","set_data_inputs","parseUnsignedTx","unsignedTx","UnsignedTransaction","from_json","stringify","correctTx","fullBoxInfo","parseUtxo","utxo","extension","json","output","addExtention","mode","undefined","ergoTree","isArray","assets","asset","amount","name","decimals","isDict","parseAdditionalRegisters","transactionId","index","registterOut","entries","forEach","getUtxosListValue","reduce","acc","getTokenListFromUtxos","tokenList","amountIn","amountOut","tokensIn","tokensOut","token","register","v","Date","getErgoStateContext","block_headers","BlockHeaders","pre_header","PreHeader","from_block_header","ErgoStateContext","getTxReducedB64Safe","getTxReduced","txReducedBase64","ergoPayTx","replace","inputBoxes","ErgoBoxes","from_boxes_json","inputDataBoxes","ctx","ReducedTransaction","from_unsigned_tx","hasExtensionConnector","ergo_check_read_access","hasConnectorInjected","ergo","isWalletConnected","error","connectWallet","ergo_request_read_access","isValidWalletAddress","get_used_addresses","address_list","getWalletAddressList","getBalance","get_balance","balance","confirmed","nanoErgs","unconfirmed","tok","walletSignTx","alert","processTx","txFoundMempool","startWait","now","close","message","getUtxos","amountToSend","fullAmountToSend","get_utxos","filteredUtxos","ErgoBox","getUtxosExplorerByAddress","addressBoxes","selectedUtxos","unSelectedUtxos","amountSelected","amountInt","shift","signTx","txToBeSigned","sign_tx","submitTx","txToBeSubmitted","submit_tx","txToBeProcessed","s","signedTx","InputAddress","ergAmount","oatmealAmount","spicyOatmealAmount","ergopay","setAddress","bind","promptErgAddress","setItem","newAddr","nanoERGAmount","glowing","src","heigth","alt","Footer","target","rel","HelpToolTip","image","data-tip","data-for","place","effect","data-html","delayShow","delayHide","insecure","multiline","backgroundColor","ThemedSelect","colors","danger","dangerLight","neutral0","neutral5","neutral10","neutral20","neutral30","neutral40","neutral50","neutral60","neutral70","neutral80","neutral90","primary","primary25","primary50","primary75","label","onChange","options","isSearchable","isMulti","theme","optionsType","MintToken","getToken","tokenName","desc","tokenDescription","tokenDecimals","mediaURL","tokenMediaAddress","mediaHash","tokenMediaHash","idPattern","tokenIDStart","CYTIFee","fee","setTokenName","updateHandler","setTokenDescription","setTokenAmount","isValidTokenAmount","setTokenDecimals","dec","split","splittedAmount","newAmount","setTokenType","setTokenIDStart","startID","fixedStartID","toLowerCase","RECOMMENDED_FEES","recommendedFee","nbTokens","setFee","feeFloat","fixedFee","validAmount","match","validateAmountStrInt","splited","amountStrInt","optionsDecimals","setTokenMediaAddress","prevProps","prevState","autoComplete","rows","HelpImage","TokenMintDesc","getEmptyTokenMintDesc","tokenMintDescFromJSON","newToken","LoadButton","onDrop","useCallback","acceptedFiles","file","reader","FileReader","onabort","onerror","onload","binaryStr","enc","TextDecoder","JSON","decode","loadTab","readAsArrayBuffer","useDropzone","accept","getRootProps","getInputProps","MintTokens","mintCITYContracts","cytiFee","mintToken","disabled","MintTabs","addTab","tabList","deleteTab","elem","updateToken","newList","loadTabs","tabListJSON","exportTabs","_myArray","vLink","document","createElement","vBlob","Blob","vUrl","URL","createObjectURL","setAttribute","click","selectedTabClassName","tab","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","mintSimpleToken","tokURL","tokHash","txFeeNano","txAmount","MIN_NANOERG_BOX_VALUE","inputsWASM","ErgoBoxAssetsDataList","dataListWASM","BoxSelection","ErgoBoxCandidates","empty","tokenAmountAdjusted","Math","pow","mintBoxValue","mintBoxBuilder","Token","from_box_id","mint_token","set_register_value","txFeeFloat","fixedTokenList","round","tok1","ownerSigmaProp","txAmountBoxValue","mintCYTIBoxBuilder","tokenMintInfos","registerValue5","val","from_coll_coll_byte","mintRequestsJSON","utxosValue","utxos1","refundBoxValue","refundBoxBuilder","apiKey","fetch","headers","Accept","api_key","arrayBuffer","controls"],"mappings":"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","file":"static/js/main.22be076b.chunk.js","sourcesContent":["import Swal from 'sweetalert2/src/sweetalert2.js';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport { formatLongString } from './utils';\r\nimport { encodeContract } from '../ergo-related/serializer';\r\n\r\nexport function waitingAlert(title) {\r\n    const MySwal = withReactContent(Swal)\r\n    Swal.fire({\r\n        title: title,\r\n        allowOutsideClick: false,\r\n        showConfirmButton: false,\r\n    });\r\n    return MySwal;\r\n}\r\n\r\nexport function errorAlert(title, msg) {\r\n    const MySwal = withReactContent(Swal)\r\n    MySwal.fire({\r\n        title: title,\r\n        icon: 'error',\r\n        text: msg,\r\n        allowOutsideClick: false,\r\n    });\r\n    return MySwal;\r\n}\r\n\r\nexport function confirmAlert(msg, txt, confirmMsg = 'Yes', denyMsg = 'No') {\r\n    return Swal.fire({\r\n        title: msg,\r\n        html: txt,\r\n        showDenyButton: true,\r\n        confirmButtonText: confirmMsg,\r\n        denyButtonText: denyMsg,\r\n        allowOutsideClick: false,\r\n    })\r\n}\r\n\r\nexport function displayTransaction(txId) {\r\n    const MySwal = withReactContent(Swal)\r\n    MySwal.fire({\r\n        title: \"Transaction sent succesfully\",\r\n        allowOutsideClick: true,\r\n        icon: 'success',\r\n        showCloseButton: true,\r\n        html: `<p>The transaction will be visible in few seconds: <a href=\"https://explorer.ergoplatform.com/en/transactions/${txId}\" target=\"_blank\" > ${txId} </a></p>`,\r\n    });\r\n    return MySwal;\r\n}\r\n\r\nexport function displayErgoPayTransaction(txId, reducedTx) {\r\n    const MySwal = withReactContent(Swal)\r\n    MySwal.fire({\r\n        title: \"Sign the transaction using ergo mobile wallet\",\r\n        allowOutsideClick: true,\r\n        icon: 'success',\r\n        showConfirmButton: true,\r\n        html: <div><p>Send the transaction to wallet </p>\r\n            <button className='btn btn-blue m-1' onClick={() => {\r\n                const url = `ergopay:${reducedTx}`;\r\n                window.open(url, '_blank').focus();\r\n            }} > Sign with ErgoPay\r\n            </button>\r\n        </div>\r\n        ,\r\n    },\r\n        function () {\r\n            window.location.reload();\r\n        });\r\n    return MySwal;\r\n}\r\n\r\nexport function promptErgAddr() {\r\n    return new Promise(function (resolve, reject) {\r\n        Swal.fire({\r\n            title: \"Set ERG address\",\r\n            html: `<div><input type=\"text\" id=\"ergAddress\" class=\"swal2-input\" placeholder=\"ERG address\"></div>`,\r\n            focusConfirm: false,\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            preConfirm: async () => {\r\n                const ergAddress = Swal.getPopup().querySelector('#ergAddress').value;\r\n                try {\r\n                    await encodeContract(ergAddress)\r\n                } catch (e) {\r\n                    Swal.showValidationMessage(`The ERG address is invalid`);\r\n                }\r\n                return { ergAddress: ergAddress };\r\n            }\r\n        }).then((result) => {\r\n            if (result.value) {\r\n                resolve(result.value.ergAddress);\r\n            } else {\r\n                reject();\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nexport function promptErgAddrList(addrList) {\r\n    return new Promise(function (resolve, reject) {\r\n        var inputOptions = {};\r\n        for (const addr of addrList) {\r\n            inputOptions[addr] = formatLongString(addr, 10);\r\n        }\r\n        //console.log(\"inputOptions[addrList[0]]\",addrList[0]);\r\n        Swal.fire({\r\n            title: \"Set ERG address\",\r\n            input: 'select',\r\n            inputValue: localStorage.getItem('address') ?? '',\r\n            inputOptions: inputOptions,\r\n            focusConfirm: false,\r\n            showCancelButton: true,\r\n            showConfirmButton: true,\r\n            customClass: {\r\n                input: \"monotype\",\r\n            },\r\n            inputValidator: function (value) {\r\n                return new Promise(function (resolve, reject) {\r\n                    if (value !== '') {\r\n                        resolve()\r\n                    } else {\r\n                        reject('The ERG address is invalid')\r\n                    }\r\n                })\r\n            }\r\n        }).then(function (result) {\r\n            if (result.value) {\r\n                resolve(result.value);\r\n            } else {\r\n                reject();\r\n            }\r\n        });\r\n    });\r\n}\r\n","import { getBlob } from \"../ergo-related/rest\";\r\nimport { NANOERG_TO_ERG } from \"./constants\";\r\nconst { createHash } = require('crypto');\r\n\r\n\r\nexport function formatLongString(str, num) {\r\n    if (typeof str !== 'string') return str;\r\n    if (str.length > 2 * num) {\r\n        return str.substring(0, num) + \"...\" + str.substring(str.length - num, str.length);\r\n    } else {\r\n        return str;\r\n    }\r\n}\r\n\r\nexport function formatERGAmount(amountStr) {\r\n    return parseFloat(parseInt(amountStr) / NANOERG_TO_ERG).toFixed(4);\r\n}\r\n\r\nexport async function downloadAndSetSHA256(url) {\r\n    try {\r\n        const blob = await getBlob(url);\r\n        const hash = createHash('sha256').update(new Uint8Array(blob)).digest('hex');\r\n        console.log(\"HASH\", hash)\r\n        return hash;\r\n    } catch(e) {\r\n        console.log(e)\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport function promiseTimeout(ms, promise) {\r\n    // Create a promise that rejects in <ms> milliseconds\r\n    let timeout = new Promise((resolve, reject) => {\r\n        let id = setTimeout(() => {\r\n            clearTimeout(id);\r\n            reject('Timed out in ' + ms + 'ms.')\r\n        }, ms)\r\n    })\r\n    // Returns a race between our timeout and the passed in promise\r\n    return Promise.race([\r\n        promise,\r\n        timeout\r\n    ])\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}","import {Serializer} from \"@coinbarn/ergo-ts\";\r\nimport * as crypto from \"crypto-js\";\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\n\r\nexport async function encodeNum(n, isInt = false) {\r\n    if (isInt) return (await ergolib).Constant.from_i32(n).encode_to_base16()\r\n    else return (await ergolib).Constant.from_i64((await ergolib).I64.from_str(n)).encode_to_base16()\r\n}\r\n\r\nexport async function decodeNum(n, isInt = false) {\r\n    if (isInt) return (await ergolib).Constant.decode_from_base16(n).to_i32()\r\n    else return (await ergolib).Constant.decode_from_base16(n).to_i64().to_str()\r\n\r\n}\r\n\r\nexport async function encodeAddress(address) {\r\n    const byteArray = (await ergolib).Address.from_mainnet_str(address).to_bytes();\r\n    return (await ergolib).Constant.from_byte_array(byteArray);\r\n}\r\n\r\nexport async function decodeAddress(addr) {\r\n    const address = (await ergolib).Address.from_bytes(addr);\r\n    return address.to_base58();\r\n}\r\n\r\nexport async function encodeLongArray(longArray) {\r\n    return (await ergolib).Constant.from_i64_str_array(longArray);\r\n}\r\n\r\nexport async function decodeLongArray(encodedArray) {\r\n    return (await ergolib).Constant.decode_from_base16(encodedArray).to_i64_str_array().map(cur => parseInt(cur))\r\n}\r\n\r\nexport async function encodeIntArray(intArray) {\r\n    return (await ergolib).Constant.from_i32_array(intArray);\r\n}\r\n\r\nexport async function decodeIntArray(encodedArray) {\r\n    return (await ergolib).Constant.decode_from_base16(encodedArray).to_i32_array()\r\n}\r\n\r\nexport async function encodeInt(num) {\r\n    return (await ergolib).Constant.from_i32(num);\r\n}\r\nexport async function decodeInt(num) {\r\n    return num.to_i32();\r\n}\r\n\r\nexport async function getErgoBox(json) {\r\n    return (await ergolib).ErgoBox.from_json(json);\r\n}\r\n\r\nexport async function encodeLong(num) {\r\n    return (await ergolib).Constant.from_i64((await ergolib).I64.from_str(num));\r\n}\r\nexport async function decodeLong(num) {\r\n    return (await ergolib).Constant.decode_from_base16(num).to_i64().to_str();\r\n}\r\n\r\nexport async function encodeHex(reg) {\r\n    return (await ergolib).Constant.from_byte_array(Buffer.from(reg, 'hex')).encode_to_base16();\r\n}\r\n\r\nexport async function encodeHexConst(reg) {\r\n    return (await ergolib).Constant.from_byte_array(Buffer.from(reg, 'hex'));\r\n}\r\n\r\nexport async function encodeStr(str) {\r\n    return encodeHex(Serializer.stringToHex(str))\r\n}\r\n\r\nexport async function encodeStrConst(str) {\r\n    return (await ergolib).Constant.from_byte_array(Buffer.from(Serializer.stringToHex(str), 'hex'));\r\n}\r\n\r\nexport function toHexString(byteArray) {\r\n    return Array.from(byteArray, function(byte) {\r\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r\n    }).join('')\r\n}\r\n\r\nexport async function decodeString(encoded) {\r\n    return Serializer.stringFromHex(toHexString((await ergolib).Constant.decode_from_base16(encoded).to_byte_array()))\r\n}\r\n\r\nexport async function decodeHex(encoded) {\r\n    return toHexString((await ergolib).Constant.decode_from_base16(encoded).to_byte_array())\r\n}\r\n\r\nexport async function decodeHexArray(encoded) {\r\n    return (await ergolib).Constant.decode_from_base16(encoded).to_coll_coll_byte().map(r => toHexString(r))\r\n}\r\n\r\nexport async function decodeStringArray(encoded) {\r\n    return (await ergolib).Constant.decode_from_base16(encoded).to_coll_coll_byte().map(r => {\r\n        return Serializer.stringFromHex(toHexString(r));\r\n    })\r\n}\r\n\r\nexport async function sigmaPropToAddress(sigmaProp) {\r\n    return (await ergolib).Address.recreate_from_ergo_tree((await ergolib).ErgoTree.from_base16_bytes(\"00\" + sigmaProp)).to_base58();\r\n}\r\n\r\nexport async function addressToSigmaPropHex(address) {\r\n    return toHexString((await ergolib).Constant.from_ecpoint_bytes(\r\n        (await ergolib).Address.from_base58(address).to_bytes(0x00).subarray(1, 34)\r\n    ).sigma_serialize_bytes());\r\n}\r\n\r\nexport function ergToNano(erg) {\r\n    if (erg === undefined) return 0\r\n    if (erg.startsWith('.')) return parseInt(erg.slice(1) + '0'.repeat(9 - erg.length + 1))\r\n    let parts = erg.split('.')\r\n    if (parts.length === 1) parts.push('')\r\n    if (parts[1].length > 9) return 0\r\n    return parseInt(parts[0] + parts[1] + '0'.repeat(9 - parts[1].length))\r\n}\r\n\r\n\r\nexport async function encodeContract(address) {\r\n    const tmp = (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(address));\r\n    return tmp.ergo_tree().to_base16_bytes();\r\n}\r\n\r\nexport async function ergoTreeToAddress(ergoTree) {\r\n    //console.log(\"ergoTreeToAddress\",ergoTree);\r\n    const ergoT = (await ergolib).ErgoTree.from_base16_bytes(ergoTree);\r\n    const address = (await ergolib).Address.recreate_from_ergo_tree(ergoT);\r\n    return address.to_base58();\r\n}\r\n\r\nexport async function addressToErgoTree(addr) {\r\n    const addrWASM = (await ergolib).Address.from_base58(addr);\r\n    return addrWASM.to_ergo_tree().to_base16_bytes();\r\n}\r\n\r\nexport async function ergoTreeToTemplate(ergoTree) {\r\n    const ergoTreeWASM = (await ergolib).ErgoTree.from_base16_bytes(ergoTree);\r\n    return toHexString(ergoTreeWASM.template_bytes());\r\n}\r\n\r\nexport async function ergoTreeToTemplateHash(ergoTree) {\r\n    const ergoTreeTemplateHex = await ergoTreeToTemplate(ergoTree);\r\n    //return toHexString(ergoTreeWASM.template_bytes());\r\n    return crypto.SHA256(crypto.enc.Hex.parse(ergoTreeTemplateHex)).toString(crypto.enc.Hex);\r\n}\r\n\r\nexport function byteArrayToBase64( byteArray ) {\r\n    var binary = '';\r\n    var len = byteArray.byteLength;\r\n    for (var i = 0; i < len; i++) {\r\n        binary += String.fromCharCode( byteArray[ i ] );\r\n    }\r\n    return window.btoa( binary );\r\n}\r\n","import React from 'react';\r\nimport { getUnconfirmedTxsFor, getUnspentBoxesForAddressUpdated } from '../ergo-related/explorer';\r\nimport { refundAllMintRequests } from '../ergo-related/mint';\r\nimport { toHexString } from '../ergo-related/serializer';\r\nimport { CYTI_MINT_REQUEST_SCRIPT_ADDRESS } from '../utils/constants';\r\nimport MintRequest from './MintRequest';\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\n\r\nexport default class MintRequests extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userMintRequests: [],\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.fetchMintRequests();\r\n    }\r\n\r\n    async fetchMintRequests() {\r\n        var mintBoxes = await getUnspentBoxesForAddressUpdated(CYTI_MINT_REQUEST_SCRIPT_ADDRESS);\r\n        const address = localStorage.getItem('address') ?? '';\r\n\r\n        var unconfirmedTxs = await getUnconfirmedTxsFor(address);\r\n        var spentBoxes = [];\r\n        var newBoxes = [];\r\n        if (unconfirmedTxs && unconfirmedTxs.length > 0) {\r\n            spentBoxes = unconfirmedTxs.map(tx => tx.inputs).flat();\r\n            newBoxes = unconfirmedTxs.map(tx => tx.outputs).flat().filter(box => address === box.CYTI_MINT_REQUEST_SCRIPT_ADDRESS);\r\n        }\r\n        const spentBoxIds = spentBoxes.map(box => box.boxId);\r\n        mintBoxes = newBoxes.concat(mintBoxes).filter(box => !spentBoxIds.includes(box.boxId));\r\n\r\n        var addressSigmaPropHex = '';\r\n        if (address !== '') {\r\n            addressSigmaPropHex = toHexString((await ergolib).Constant.from_ecpoint_bytes(\r\n                (await ergolib).Address.from_base58(localStorage.getItem('address')).to_bytes(0x00).subarray(1, 34)\r\n            ).sigma_serialize_bytes());\r\n        }\r\n        var userMintRequests = [];\r\n        for (const box of mintBoxes) {\r\n            try {\r\n                if (box.additionalRegisters.R6) {\r\n                    const mintSigmaProp = Buffer.from(box.additionalRegisters.R6.serializedValue, 'hex')\r\n                    if (toHexString(mintSigmaProp) === addressSigmaPropHex) {\r\n                        userMintRequests.push(box);\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                console.log(\"fetchMintRequests\", e)\r\n            }\r\n        }\r\n        console.log();\r\n        this.setState({\r\n            userMintRequests: userMintRequests,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        return (\r\n            <div className='w-100 d-flex flex-column m-2 p-2'>\r\n                <br />\r\n                <div><h4>My CYTI mint requests</h4></div>\r\n                {\r\n                    this.state.userMintRequests.length === 0 ?\r\n                        <div className='d-flex flex-column m-1 p-1'>\r\n                            <h6>\r\n                                No CITY mint request found {address === '' ? null : \"for \" + address}\r\n                            </h6>\r\n                        </div>\r\n                        :\r\n                        <div className='d-flex flex-column m-1 p-1'>\r\n                            <div></div>\r\n                            <div className='d-flex flex-wrap justify-content-center m-1 p-1'>\r\n                                {\r\n                                    this.state.userMintRequests.map(box =>\r\n                                        <MintRequest key={box.boxId + \"_1\"} cytiBoxJSON={box} />\r\n                                    )\r\n                                }\r\n                            </div>\r\n                            <div>\r\n                                <button className='btn btn-blue'\r\n                                    onClick={() => refundAllMintRequests(this.state.userMintRequests)} >\r\n                                    Refund all</button>\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { decodeHex, decodeLong, sigmaPropToAddress, toHexString } from '../ergo-related/serializer';\r\nimport { getRegisterValue } from '../ergo-related/wasm';\r\nimport { NFT_TYPES } from './constants';\r\nimport {Serializer} from \"@coinbarn/ergo-ts\";\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\nexport class CYTIRequest {\r\n    constructor(boxJSON) {\r\n        this.full = boxJSON;\r\n        this.value = boxJSON.value;\r\n        this.requestOwner = '';\r\n        this.targetFirstChar = '';\r\n        this.minerAddress = '';\r\n        this.tokAmount = '0';\r\n        this.tokName = '';\r\n        this.tokDesc = '';\r\n        this.tokDecimals = 0;\r\n        this.tokType = 'Standard';\r\n        this.tokMediaHash = '';\r\n        this.tokMediaURL = '';\r\n        this.boxId = boxJSON.boxId;\r\n        this.isProcessed = false;\r\n    }\r\n\r\n    async initialize() {\r\n        this.tokAmount = await decodeLong(getRegisterValue(this.full, \"R4\"));\r\n        const tokInfo = await decodeR5Array(getRegisterValue(this.full, \"R5\"));\r\n        this.tokName = tokInfo[0] ?? '';\r\n        this.tokDesc = tokInfo[1] ?? '';\r\n        this.tokDecimals = tokInfo[2] ?? '';\r\n        const tokTypeValue = tokInfo[3] ?? '';\r\n        this.tokType = Object.keys(NFT_TYPES).find(key => NFT_TYPES[key] === tokTypeValue);\r\n        this.tokMediaHash = tokInfo[4] ?? '';\r\n        this.tokMediaURL = tokInfo[5] ?? '';\r\n        this.targetFirstChar = await decodeHex(getRegisterValue(this.full, \"R7\"));\r\n        this.isProcessed = this.boxId.substring(0, this.targetFirstChar.length) === this.targetFirstChar;\r\n        this.requestOwner = await sigmaPropToAddress(getRegisterValue(this.full, \"R6\"));\r\n        if (this.isProcessed) {\r\n            this.minerAddress = await sigmaPropToAddress(getRegisterValue(this.full, \"R8\"));\r\n        }\r\n        //console.log(\"this\",this);\r\n    }\r\n\r\n    static async create(boxJSON) {\r\n        const o = new CYTIRequest(boxJSON);\r\n        await o.initialize();\r\n        return o;\r\n    }\r\n}\r\n\r\nexport async function decodeR5Array(encoded) {\r\n    return (await ergolib).Constant.decode_from_base16(encoded).to_coll_coll_byte().map((r, i) => {\r\n        if ( i === 4) {\r\n            return toHexString(r);\r\n        } else {\r\n            return Serializer.stringFromHex(toHexString(r));\r\n        }\r\n        \r\n    })\r\n}","import React, { Fragment } from 'react';\r\nimport { refundMintRequest } from '../ergo-related/mint';\r\nimport { CYTIRequest } from '../utils/CYTIRequest';\r\nimport { formatERGAmount, formatLongString } from '../utils/utils';\r\nimport TokenMedia from './TokenMedia';\r\n\r\n\r\nexport default class MintRequest extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cytiBoxJSON: props.cytiBoxJSON,\r\n            request: {\"boxId\": \"\", \"targetFirstChar\": \"\"},\r\n        };\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const request = await CYTIRequest.create(this.state.cytiBoxJSON);\r\n        this.setState({\r\n            request: request,\r\n        });\r\n    }\r\n\r\n    async refund(mintRequestJSON) {\r\n        await refundMintRequest(mintRequestJSON);\r\n        \r\n    }\r\n\r\n    render() {\r\n        const connectedAddress = localStorage.getItem(\"address\");\r\n        var statusLabel = \"To be mined\";\r\n        if (this.state.request.isProcessed) {\r\n            statusLabel = \"Processed\";\r\n        }\r\n        const tokenType = this.state.request.tokType;\r\n        var labelMap = { // order matters\r\n            \"Fee\": formatERGAmount(this.state.request.value) + \" ERG\",\r\n            \"Owner\": formatLongString(this.state.request.requestOwner, 6),\r\n            \"Type\": this.state.request.tokType,\r\n            \"Name\": this.state.request.tokName,\r\n            \"Amount\": this.state.request.tokAmount,\r\n            \"Decimals\": this.state.request.tokDecimals,\r\n            \"Description\": this.state.request.tokDesc,\r\n            [tokenType]: \"\",\r\n            \"URL\": \"\",\r\n            \"ID first chars\": this.state.request.targetFirstChar,\r\n            \"Miner\": formatLongString(this.state.request.minerAddress, 6),\r\n            \"Status\": statusLabel,\r\n            \"boxId\": formatLongString(this.state.request.boxId, 6),\r\n        }\r\n        if (this.state.request.tokType !== 'Standard') {\r\n            labelMap[\"URL\"] = <a href={this.state.request.tokMediaURL}>{formatLongString(this.state.request.tokMediaURL, 15)}</a>;\r\n            labelMap[tokenType] = <TokenMedia type={this.state.request.tokType} address={this.state.request.tokMediaURL} width={50} />\r\n        }\r\n        return (\r\n\r\n            <Fragment >\r\n                <div className='card zonerequest d-flex flex-column justify-content-between m-2 p-2'>\r\n                <div className='d-flex flex-column'>\r\n                    {\r\n                        Object.keys(labelMap).filter(lbl => labelMap[lbl] !== \"\").map(lbl =>\r\n                            <div key={lbl} className='d-flex flex-row justify-content-between align-items-center'>\r\n                                <label htmlFor={lbl} className='col-sm d-flex align-items-start'>{lbl}</label>\r\n                                <div id={lbl} className='limit-width'>{labelMap[lbl]}</div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                    </div>\r\n                    {\r\n                        this.state.request.requestOwner === connectedAddress &&\r\n                            !this.state.request.boxId.startsWith(this.state.request.targetFirstChar) ?\r\n                            <div className='w-100 d-flex flex-row justify-content-center'>\r\n                                <button className='btn btn-blue' onClick={() => this.refund(this.state.cytiBoxJSON)}>\r\n                                    Refund\r\n                                </button>\r\n                            </div>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n","import { get } from './rest';\r\nimport JSONBigInt from 'json-bigint';\r\nimport { DEFAULT_EXPLORER_API_ADDRESS } from '../utils/constants';\r\n\r\n\r\nexport const explorerApi = DEFAULT_EXPLORER_API_ADDRESS + '/api/v0';\r\nexport const explorerApiV1 = DEFAULT_EXPLORER_API_ADDRESS + '/api/v1';\r\n\r\nasync function getRequest(url) {\r\n    return get(explorerApi + url).then(res => {\r\n        return { data: res };\r\n    });\r\n}\r\n\r\nasync function getRequestV1(url) {\r\n    return get(explorerApiV1 + url).then(res => {\r\n        return { data: res };\r\n    });\r\n}\r\n\r\nasync function postTx(url, body = {}, apiKey = '') {\r\n    console.log(\"post0\", JSONBigInt.stringify(body));\r\n    const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'mode': 'cors',\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n        },\r\n        body: JSONBigInt.stringify(body)\r\n    });\r\n\r\n    const [responseOk, body2] = await Promise.all([response.ok, response.json()]);\r\n    console.log(\"post1\", body2, responseOk)\r\n    if (responseOk) {\r\n        if (typeof body2 === 'object') {\r\n            //console.log(\"post2\", body2.id)\r\n            return { result: true, data: body2.id };\r\n        } else {\r\n            return { result: true, data: body2 };\r\n        }\r\n    } else {\r\n        if (Object.keys(body2).includes(\"detail\")) {\r\n            return { result: false, data: body2.detail };\r\n        } else {\r\n            return { result: false, data: body2.reason };\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport async function postTxMempool(tx) {\r\n    try {\r\n        const res = await postTx(explorerApiV1 + '/mempool/transactions/submit', tx);\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(\"postTxMempool\", err);\r\n        return err.toString()\r\n    }\r\n}\r\n\r\nexport async function sendTx(json) {\r\n    const res = await postTxMempool(json);\r\n    //const res = await postRequest('transactions', json)\r\n    return res;\r\n}\r\n\r\nexport async function currentHeight() {\r\n    return getRequest('/blocks?limit=1')\r\n        .then(res => res.data)\r\n        .then(res => res.items[0].height);\r\n}\r\n\r\n/////\r\nexport async function getUnspentBoxesByAddress(address, limit = 50) {\r\n    const res = await getRequestV1(`/boxes/unspent/byAddress/${address}?limit=${limit}`);\r\n    return res.data.items;\r\n}\r\n\r\nexport async function getBoxesByAddress(address, limit = 100) {\r\n    const res = await getRequestV1(`/boxes/byAddress/${address}?limit=${limit}`);\r\n    return res.data.items;\r\n}\r\n\r\nexport async function boxById(id) {\r\n    const res = await getRequest(`/transactions/boxes/${id}`);\r\n    return res.data;\r\n}\r\n\r\n/////\r\nexport async function boxByTokenId(tokenId) {\r\n    const res = await getRequestV1(`/boxes/unspent/byTokenId/${tokenId}`);\r\n    return res.data.items;\r\n}\r\n\r\n/////\r\nexport async function getTransactionsByAddress(addr) {\r\n    const res = await getRequestV1(`/addresses/${addr}/transactions`);\r\n    return res.data.items;\r\n}\r\n\r\nexport async function getUnconfirmedTxsFor(addr) {\r\n    const res = await getRequestV1(`/mempool/transactions/byAddress/${addr}`);\r\n    //console.log(\"getUnconfirmedTxsFor\", res);\r\n    return res.data.items;\r\n}\r\n\r\nexport async function getSpentAndUnspentBoxesFromMempool(address) {\r\n    try {\r\n        var unconfirmedTxs = await getUnconfirmedTxsFor(address);\r\n        var spentBoxes = [];\r\n        var newBoxes = [];\r\n        if (unconfirmedTxs && unconfirmedTxs.length > 0) {\r\n            spentBoxes = unconfirmedTxs.map(tx => tx.inputs).flat();\r\n            newBoxes = unconfirmedTxs.map(tx => tx.outputs).flat().filter(box => address === box.address);\r\n        }\r\n        //console.log(\"getSpentAndUnspentBoxesFromMempool\", address, spentBoxes, newBoxes)\r\n        return [spentBoxes, newBoxes];\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [[], []];\r\n    }\r\n}\r\n\r\nexport async function getUnspentBoxesForAddressUpdated(address) {\r\n    try {\r\n        const boxesTmp = await getUnspentBoxesByAddress(address);\r\n        const [spentBoxes, newBoxes] = await getSpentAndUnspentBoxesFromMempool(address);\r\n        const spentBlobBoxIds = spentBoxes.map(box => box.boxId);\r\n        const boxes = newBoxes.concat(boxesTmp).filter(box => !spentBlobBoxIds.includes(box.boxId));\r\n        return boxes;\r\n    } catch (e) {\r\n        console.log(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getExplorerBlockHeaders() {\r\n    return (await getRequestV1(`/blocks/headers`)).data.items.slice(0, 10);\r\n}\r\nexport async function getExplorerBlockHeadersFull() {\r\n    return (await getRequestV1(`/blocks/headers`)).data.items;\r\n}\r\n\r\nexport async function getBalanceForAddress(addr) {\r\n    const res = await getRequestV1(`/addresses/${addr}/balance/total`);\r\n    console.log(\"getBalanceUnconfirmedForAddress\", res)\r\n    return res.data;\r\n}\r\n","import JSONBigInt from 'json-bigint';\r\nimport { currentHeight, getExplorerBlockHeaders, getExplorerBlockHeadersFull } from './explorer';\r\nimport { NANOERG_TO_ERG, TX_FEE } from '../utils/constants';\r\nimport { TextEncoder } from 'text-decoding';\r\nimport { byteArrayToBase64, encodeContract } from './serializer';\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\n/* global BigInt */\r\n\r\nasync function boxCandidateToJsonMin(boxCandidate) {\r\n    var res = {};\r\n    res[\"value\"] = boxCandidate.value().as_i64().as_num().toString();\r\n    res[\"ergoTree\"] = boxCandidate.ergo_tree().to_base16_bytes();\r\n    res[\"address\"] = (await ergolib).Address.recreate_from_ergo_tree(boxCandidate.ergo_tree()).to_base58();\r\n    var tokens = [];\r\n    for (let i = 0; i < boxCandidate.tokens().len(); i++) {\r\n        tokens.push(JSONBigInt.parse(boxCandidate.tokens().get(i).to_json()))\r\n    }\r\n    res[\"assets\"] = tokens;\r\n    console.log(\"boxCandidateToJsonMin\", res)\r\n    return res;\r\n}\r\nasync function boxCandidatesToJsonMin(boxCandidates) {\r\n    var res = [];\r\n    for (let i = 0; i < boxCandidates.len(); i++) {\r\n        res.push(await boxCandidateToJsonMin(boxCandidates.get(i)))\r\n    }\r\n    return res;\r\n}\r\n\r\nexport async function createTransaction(boxSelection, outputCandidates, dataInputs, changeAddress, utxos) {\r\n    console.log(\"createTransaction utxos\", utxos);\r\n    const creationHeight = await currentHeight();\r\n\r\n    // build the change box\r\n    var outputJs = await boxCandidatesToJsonMin(outputCandidates);\r\n    const missingErgs = getMissingErg(utxos, outputJs) - BigInt(TX_FEE);\r\n    const tokens = getMissingTokens(utxos, outputJs);\r\n    console.log(\"missing tokens\", tokens);\r\n    \r\n    if (missingErgs > 0 || Object.keys(tokens) > 0) {\r\n        const changeBoxValue = (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str(missingErgs.toString()));\r\n        const changeBoxBuilder = new (await ergolib).ErgoBoxCandidateBuilder(\r\n            changeBoxValue,\r\n            (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(changeAddress)),\r\n            creationHeight);\r\n            for (const tokId of Object.keys(tokens)) {\r\n                const tokenId = (await ergolib).TokenId.from_str(tokId);\r\n                const tokenAmount = (await ergolib).TokenAmount.from_i64((await ergolib).I64.from_str(tokens[tokId].toString()));\r\n                changeBoxBuilder.add_token(tokenId, tokenAmount);\r\n            }\r\n        try {\r\n            outputCandidates.add(changeBoxBuilder.build());\r\n        } catch (e) {\r\n            console.log(`building error: ${e}`);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    const txBuilder = (await ergolib).TxBuilder.new(\r\n        boxSelection,\r\n        outputCandidates,\r\n        creationHeight,\r\n        (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str(TX_FEE.toString())),\r\n        (await ergolib).Address.from_base58(changeAddress));\r\n    var dataInputsWASM = new (await ergolib).DataInputs();\r\n    for (const box of dataInputs) {\r\n        const boxIdWASM = (await ergolib).BoxId.from_str(box.boxId);\r\n        const dataInputWASM = new (await ergolib).DataInput(boxIdWASM);\r\n        dataInputsWASM.add(dataInputWASM);\r\n    }\r\n    txBuilder.set_data_inputs(dataInputsWASM);\r\n    const tx = parseUnsignedTx(txBuilder.build().to_json());\r\n    console.log(\"createTransaction tx\", tx);\r\n\r\n    const unsignedTx = (await ergolib).UnsignedTransaction.from_json(JSONBigInt.stringify(tx))\r\n    var correctTx = parseUnsignedTx(unsignedTx.to_json());\r\n\r\n    // Put back complete selected inputs in the same order\r\n    correctTx.inputs = correctTx.inputs.map(box => {\r\n        const fullBoxInfo = parseUtxo(utxos.find(utxo => utxo.boxId === box.boxId));\r\n        return {\r\n            ...fullBoxInfo,\r\n            extension: {}\r\n        };\r\n    });\r\n    // Put back complete selected datainputs in the same order\r\n    correctTx.dataInputs = correctTx.dataInputs.map(box => {\r\n        const fullBoxInfo = parseUtxo(dataInputs.find(utxo => utxo.boxId === box.boxId));\r\n        return {\r\n            ...fullBoxInfo,\r\n            extension: {}\r\n        };\r\n    });\r\n\r\n    return correctTx;\r\n}\r\n\r\nexport function parseUnsignedTx(str) {\r\n    let json = JSONBigInt.parse(str);\r\n    return {\r\n        id: json.id,\r\n        inputs: json.inputs,\r\n        dataInputs: json.dataInputs,\r\n        outputs: json.outputs.map(output => (parseUtxo(output))),\r\n    };\r\n}\r\n\r\nexport function parseUtxo(json, addExtention = true, mode = 'input') {\r\n    if (json === undefined) {\r\n        return {};\r\n    }\r\n    var res = {};\r\n    if (mode === 'input') {\r\n        if (\"id\" in json) {\r\n            res[\"boxId\"] = json.id;\r\n        } else {\r\n            res[\"boxId\"] = json.boxId;\r\n        }\r\n    }\r\n    res[\"value\"] = json.value.toString();\r\n    res[\"ergoTree\"] = json.ergoTree;\r\n    if (Array.isArray(json.assets)) {\r\n        res[\"assets\"] = json.assets.map(asset => ({\r\n            tokenId: asset.tokenId,\r\n            amount: asset.amount.toString(),\r\n            name: asset.name ?? '',\r\n            decimals: asset.decimals ?? 0,\r\n        }));\r\n    } else {\r\n        res[\"assets\"] = [];\r\n    }\r\n    if (isDict(json[\"additionalRegisters\"])) {\r\n        res[\"additionalRegisters\"] = parseAdditionalRegisters(json.additionalRegisters);\r\n    } else {\r\n        res[\"additionalRegisters\"] = {};\r\n    }\r\n\r\n    res[\"creationHeight\"] = json.creationHeight;\r\n\r\n    if (\"address\" in json) {\r\n        res[\"address\"] = json.address;\r\n    }\r\n\r\n    if (mode === 'input') {\r\n        if (\"txId\" in json) {\r\n            res[\"transactionId\"] = json.txId;\r\n        } else {\r\n            res[\"transactionId\"] = json.transactionId;\r\n        }\r\n        res[\"index\"] = json.index;\r\n    }\r\n    if (addExtention) {\r\n        res[\"extension\"] = {};\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function parseUtxos(utxos, addExtention, mode = 'input') {\r\n    var utxosFixed = [];\r\n    for (const i in utxos) {\r\n        utxosFixed.push(parseUtxo(utxos[i], addExtention, mode))\r\n    }\r\n    return utxosFixed;\r\n}\r\n\r\nfunction parseAdditionalRegisters(json) {\r\n    var registterOut = {};\r\n    //console.log(\"json\", json);\r\n    Object.entries(json).forEach(([key, value]) => {\r\n        //console.log(\"key\", key, \"value\", value);\r\n        if (isDict(value)) {\r\n            registterOut[key] = value[\"serializedValue\"];\r\n        } else {\r\n            registterOut[key] = value;\r\n        }\r\n    });\r\n    //console.log(\"registterOut\", registterOut);\r\n    return registterOut;\r\n}\r\n\r\nexport async function setBoxRegisterByteArray(box, register, str_value) {\r\n    const value_Uint8Array = new TextEncoder().encode(str_value);\r\n    box.set_register_value(register, (await ergolib).Constant.from_byte_array(value_Uint8Array));\r\n}\r\n\r\nexport async function addSimpleOutputBox(outputCandidates, amountErgsFloat, payToAddress, creationHeight) {\r\n    const amountNanoErgStr = Math.round((amountErgsFloat * NANOERG_TO_ERG)).toString();\r\n    const amountBoxValue = (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str(amountNanoErgStr));\r\n    const outputBoxBuilder = new (await ergolib).ErgoBoxCandidateBuilder(\r\n        amountBoxValue,\r\n        (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(payToAddress)),\r\n        creationHeight);\r\n    try {\r\n        outputCandidates.add(outputBoxBuilder.build());\r\n    } catch (e) {\r\n        console.log(`building output error: ${e}`);\r\n        throw e;\r\n    }\r\n}\r\n\r\n\r\nexport async function getTokens(tokenId, tokenAmount) {\r\n    var tokens = new (await ergolib).Tokens();\r\n    const _tokenId = (await ergolib).TokenId.from_str(tokenId);\r\n    const _tokenAmount = (await ergolib).TokenAmount.from_i64((await ergolib).I64.from_str(tokenAmount.toString()));\r\n    tokens.add(new (await ergolib).Token(\r\n        _tokenId,\r\n        _tokenAmount)\r\n    );\r\n    return tokens;\r\n}\r\n\r\nexport function getUtxosListValue(utxos) {\r\n    return utxos.reduce((acc, utxo) => acc += BigInt(utxo.value), BigInt(0));\r\n}\r\n\r\nexport function getTokenListFromUtxos(utxos) {\r\n    var tokenList = {};\r\n    for (const i in utxos) {\r\n        console.log(\"utxos[i]\",utxos[i])\r\n        for (const asset of utxos[i].assets) {\r\n            if (Object.keys(tokenList).includes(asset.tokenId) ) {\r\n                tokenList[asset.tokenId] = BigInt(tokenList[asset.tokenId]) + BigInt(asset.amount);\r\n            } else {\r\n                console.log(\"tokenList\",tokenList, asset)\r\n                tokenList[asset.tokenId] = BigInt(asset.amount);\r\n            }\r\n        }\r\n    }\r\n    return tokenList;\r\n}\r\n\r\nexport function getMissingErg(inputs, outputs) {\r\n    const amountIn = getUtxosListValue(inputs);\r\n    const amountOut = getUtxosListValue(outputs);\r\n    if (amountIn >= amountOut) {\r\n        return amountIn - amountOut;\r\n    } else {\r\n        return BigInt(0);\r\n    }\r\n}\r\n\r\nexport function getMissingTokens(inputs, outputs) {\r\n    console.log(\"getMissingTokens\", inputs, outputs);\r\n    const tokensIn = getTokenListFromUtxos(inputs);\r\n    const tokensOut = getTokenListFromUtxos(outputs);\r\n    var res = {};\r\n    console.log(\"getMissingTokens\", tokensIn, tokensOut);\r\n    if (tokensIn !== {}) {\r\n        for (const token in tokensIn) {\r\n            if (tokensOut !== {} && token in tokensOut) {\r\n                if (tokensIn[token] - tokensOut[token] > 0) {\r\n                    res[token] = tokensIn[token] - tokensOut[token];\r\n                }\r\n            } else {\r\n                res[token] = tokensIn[token];\r\n            }\r\n        }\r\n    }\r\n    console.log(\"getMissingTokens\", tokensIn, tokensOut, res);\r\n    return res;\r\n}\r\n\r\nexport async function buildBalanceBox(inputs, outputs, address) {\r\n    const missingErgs = getMissingErg(inputs, outputs).toString();\r\n    const contract = await encodeContract(address);\r\n    const tokens = buildTokenList(getMissingTokens(inputs, outputs));\r\n    const height = await currentHeight();\r\n    console.log(\"buildBalanceBox\", missingErgs, contract, tokens, height)\r\n\r\n    return {\r\n        value: missingErgs,\r\n        ergoTree: contract,\r\n        assets: tokens,\r\n        additionalRegisters: {},\r\n        creationHeight: height,\r\n        extension: {},\r\n        index: undefined,\r\n        boxId: undefined,\r\n    };\r\n}\r\n\r\nexport function buildTokenList(tokens) {\r\n    var res = [];\r\n    if (tokens !== {}) {\r\n        for (const i in tokens) {\r\n            res.push({ \"tokenId\": i, \"amount\": tokens[i].toString() });\r\n        }\r\n    };\r\n    return res;\r\n}\r\n\r\nexport function getTokenAmount(box, tokenId) {\r\n    var tokenAmount = \"0\";\r\n    for (const asset of box.assets) {\r\n        if (asset.tokenId === tokenId) {\r\n            tokenAmount = asset.amount;\r\n        }\r\n    }\r\n    return tokenAmount;\r\n}\r\n\r\nexport function getRegisterValue(box, register) {\r\n    if (register in box.additionalRegisters) {\r\n        if (isDict(box.additionalRegisters[register])) {\r\n            //console.log(\"getRegisterValue\", box.additionalRegisters[register].serializedValue);\r\n            return box.additionalRegisters[register].serializedValue;\r\n        } else {\r\n            return box.additionalRegisters[register];\r\n        }\r\n    } else {\r\n        return \"\";\r\n    }\r\n}\r\n\r\nexport function getRegisterValue2(box, register) {\r\n\r\n    return box.additionalRegisters[register];\r\n}\r\n\r\nfunction isDict(v) {\r\n    return typeof v === 'object' && v !== null && !(v instanceof Array) && !(v instanceof Date);\r\n}\r\n\r\nexport async function getErgoStateContext() {\r\n    const res =  await getExplorerBlockHeaders();\r\n    const block_headers = (await ergolib).BlockHeaders.from_json(res);\r\n    const pre_header = (await ergolib).PreHeader.from_block_header(block_headers.get(0));\r\n    return new (await ergolib).ErgoStateContext(pre_header, block_headers);\r\n}\r\n\r\nexport async function getErgoStateContext2(contextId) {\r\n    const res = await getExplorerBlockHeadersFull();\r\n    console.log(\"getErgoStateContext2\", res);\r\n    const explorerContext = res.slice(contextId, 10 + contextId);\r\n    const block_headers = (await ergolib).BlockHeaders.from_json(explorerContext);\r\n    const pre_header = (await ergolib).PreHeader.from_block_header(block_headers.get(0));\r\n    return new (await ergolib).ErgoStateContext(pre_header, block_headers);\r\n}\r\n\r\nexport async function signTransactionMultiContext(unsignedTx, inputs, dataInputs, wallet) {\r\n    //console.log(\"signTransaction1\", unsignedTx, inputs, dataInputs);\r\n    const unsignedTransaction = (await ergolib).UnsignedTransaction.from_json(JSONBigInt.stringify(unsignedTx));\r\n    const inputBoxes = (await ergolib).ErgoBoxes.from_boxes_json(inputs);\r\n    const dataInputsBoxes = (await ergolib).ErgoBoxes.from_boxes_json(dataInputs);\r\n    for (let i = 0; i < 10; i++) {\r\n        try {\r\n            console.log(\"try \"+i.toString())\r\n            const ctx = await getErgoStateContext2(i);\r\n            const signedTx = wallet.sign_transaction(ctx, unsignedTransaction, inputBoxes, dataInputsBoxes);\r\n            \r\n            return [signedTx.to_json(), i];\r\n        } catch(e) {\r\n            console.log(e);\r\n            continue;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport async function signTransaction(unsignedTx, inputs, dataInputs, wallet) {\r\n    //console.log(\"signTransaction1\", unsignedTx, inputs, dataInputs);\r\n    const unsignedTransaction = (await ergolib).UnsignedTransaction.from_json(JSONBigInt.stringify(unsignedTx));\r\n    const inputBoxes = (await ergolib).ErgoBoxes.from_boxes_json(inputs);\r\n    const dataInputsBoxes = (await ergolib).ErgoBoxes.from_boxes_json(dataInputs);\r\n    const ctx = await getErgoStateContext();\r\n    //console.log(\"signTransaction2\", unsignedTx, inputs, dataInputs);\r\n    const signedTx = wallet.sign_transaction(ctx, unsignedTransaction, inputBoxes, dataInputsBoxes);\r\n    return signedTx.to_json();\r\n}\r\n\r\n// https://github.com/ergoplatform/eips/pull/37 ergopay:<txBase64safe>\r\nexport async function getTxReducedB64Safe(json, inputs, dataInputs = []) {\r\n    //console.log(\"getTxReducedB64Safe\", json, inputs, dataInputs);\r\n    const [txId, reducedTx] = await getTxReduced(json, inputs, dataInputs);\r\n    //console.log(\"getTxReducedB64Safe1\", json, inputs, dataInputs);\r\n    // Reduced transaction is encoded with Base64\r\n    const txReducedBase64 = byteArrayToBase64(reducedTx.sigma_serialize_bytes());\r\n    //console.log(\"getTxReducedB64Safe2\", json, inputs, dataInputs);\r\n    const ergoPayTx = txReducedBase64.replace(/\\//g, '_').replace(/\\+/g, '-');\r\n    //console.log(\"getTxReducedB64Safe3\", txId, ergoPayTx);\r\n    // split by chunk of 1000 char to generates the QR codes\r\n\r\n    return [txId, ergoPayTx];\r\n}\r\n\r\nasync function getTxReduced(json, inputs, dataInputs) {\r\n    // build ergolib objects from json\r\n    //console.log(\"getTxReduced\", json, inputs, dataInputs);\r\n    const unsignedTx = (await ergolib).UnsignedTransaction.from_json(JSONBigInt.stringify(json));\r\n    const inputBoxes = (await ergolib).ErgoBoxes.from_boxes_json(inputs);\r\n    const inputDataBoxes = (await ergolib).ErgoBoxes.from_boxes_json(dataInputs);\r\n    const ctx = await getErgoStateContext();\r\n    return [unsignedTx.id().to_str(), (await ergolib).ReducedTransaction.from_unsigned_tx(unsignedTx, inputBoxes, inputDataBoxes, ctx)];\r\n}","import JSONBigInt from 'json-bigint';\r\nimport { displayErgoPayTransaction, errorAlert } from '../utils/Alerts';\r\nimport { promiseTimeout } from '../utils/utils';\r\nimport { getBalanceForAddress, getUnconfirmedTxsFor, getUnspentBoxesForAddressUpdated } from './explorer';\r\nimport { getTxReducedB64Safe } from './wasm';\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\n/* global ergo BigInt */\r\n\r\nfunction hasExtensionConnector() {\r\n    if (typeof window.ergo_check_read_access !== 'undefined') {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction hasConnectorInjected() {\r\n    if (typeof ergo !== 'undefined') {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport async function isWalletConnected() {\r\n    if (hasExtensionConnector()) {\r\n        try {\r\n            const res = await window.ergo_check_read_access();\r\n            //console.log(\"isWalletConnected\", res)\r\n            return Promise.resolve(res);\r\n        } catch (e) {\r\n            console.error(\"isWalletConnected error\", e);\r\n            //errorAlert(\"dApp connector not found 1\", \"Install Nautilus or SAFEW wallet in your browser\");\r\n            return Promise.resolve(false);\r\n        }\r\n    } else {\r\n        return Promise.resolve(true);\r\n    }\r\n}\r\n\r\n// Connect to browser extension wallet, return True if success\r\nexport async function connectWallet() {\r\n    if (hasExtensionConnector()) {\r\n        try {\r\n            const alreadyConnected = await isWalletConnected();\r\n            //console.log(\"connectWallet alreadyConnected\", alreadyConnected);\r\n            if (!alreadyConnected) {\r\n              const res = await window.ergo_request_read_access();\r\n              await sleep(100)\r\n              return res\r\n            } else {\r\n                return true;\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            errorAlert(\"dApp connector not found 2\", \"Install Nautilus or SAFEW wallet in your browser\");\r\n            return false;\r\n        }\r\n    } else {\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n// Check the address is in the connected wallet\r\nexport async function isValidWalletAddress(address) {\r\n    if (hasExtensionConnector()) {\r\n        const walletConnected = await connectWallet();\r\n        if (walletConnected && hasConnectorInjected()) {\r\n            const address_list = await ergo.get_used_addresses();\r\n            return address_list.includes(address);\r\n        } else {\r\n            return false;\r\n        }\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport async function getWalletAddressList() {\r\n    if (hasExtensionConnector()) {\r\n        const walletConnected = await connectWallet();\r\n        if (walletConnected && hasConnectorInjected()) {\r\n            const address_list = await ergo.get_used_addresses();\r\n            return address_list;\r\n        } else {\r\n            return [];\r\n        }\r\n    } else {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getBalance(tokenId = 'ERG') {\r\n    //console.log('getBalance', tokenId);\r\n    const walletConnected = await connectWallet();\r\n    //console.log('getBalance2', walletConnected, hasConnectorInjected());\r\n    if (walletConnected && hasConnectorInjected()) {\r\n        //console.log('getBalance3', walletConnected);\r\n        const amount = await ergo.get_balance(tokenId);\r\n        return amount;\r\n    } else {\r\n        //console.log('getBalance4', walletConnected);\r\n        const address = localStorage.getItem('address') ?? '';\r\n        if (address !== '') {\r\n            const balance = await getBalanceForAddress(address);\r\n            if (balance.confirmed) {\r\n                if (tokenId === 'ERG') {\r\n                    return balance.confirmed.nanoErgs + balance.unconfirmed.nanoErgs;\r\n                } else {\r\n                    var tokenAmount = 0;\r\n                    for (const tok of balance.confirmed.tokens) {\r\n                        if (tok.tokenId === tokenId) {\r\n                            tokenAmount = tok.amount;\r\n                        }\r\n                    }\r\n                    for (const tok of balance.unconfirmed.tokens) {\r\n                        if (tok.tokenId === tokenId) {\r\n                            tokenAmount = tokenAmount + tok.amount;\r\n                        }\r\n                    }\r\n                    return tokenAmount;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport async function walletSignTx(alert, tx, address) {\r\n    alert.update({ title: \"Connecting to wallet...\" });\r\n    const walletAccessGranted = await connectWallet();\r\n    if (walletAccessGranted) {\r\n        if (isValidWalletAddress(address)) {\r\n            alert.update({ title: \"Waiting for the transaction signing...\" });\r\n            const txId = await processTx(tx);\r\n            if (txId && hasExtensionConnector()) {\r\n                console.log('[txId]', txId);\r\n                alert.update(\r\n                    {\r\n                        title: \"Waiting for the transaction to reach the mempool\",\r\n                        allowOutsideClick: false,\r\n                        html: `<p>The transaction will be visible in the mempool in few seconds: <a href=\"https://explorer.ergoplatform.com/en/transactions/${txId}\" target=\"_blank\" > ${txId} </a></p>`,\r\n                        showConfirmButton: true,\r\n                    }\r\n                );\r\n                var txFoundMempool = false;\r\n                const startWait = Date.now();\r\n                while (!txFoundMempool && Date.now() - startWait < 60000) {\r\n                    await sleep(3000);\r\n                    try {\r\n                        var unconfirmedTxs = await getUnconfirmedTxsFor(address);\r\n                        //console.log(\"unconfirmedTxs\", unconfirmedTxs)\r\n                        const unconfirmedTx = unconfirmedTxs.filter(tx => tx.id === txId);\r\n                        if (unconfirmedTx.length > 0) {\r\n                            txFoundMempool = true;\r\n                        }\r\n                    } catch (e) {\r\n                        console.log(e);\r\n                    }\r\n                }\r\n                alert.close();\r\n                if (txFoundMempool) {\r\n                    window.location.reload();\r\n                } else {\r\n                    errorAlert(\"The transaction failed to reach the mempool but should be mined in few minutes\")\r\n                }\r\n            } else {\r\n                if (hasExtensionConnector()) {\r\n                    const title = \"Transaction not signed\";\r\n                    const message = \"Something went wrong, the transaction was not sent.\";\r\n                    errorAlert(title, message);\r\n                }\r\n            }\r\n        } else {\r\n            alert.close();\r\n            const title = \"Wrong address\";\r\n            const message = \"The address \" + address + \" is not found in the connected wallet. Please double check the ERG address provided and the connected wallet.\";\r\n            errorAlert(title, message);\r\n        }\r\n    }\r\n    else {\r\n        alert.close();\r\n        console.log('Wallet access denied');\r\n    }\r\n}\r\n\r\n// Get the utxos for the amout of nanoERG in parameter\r\nexport async function getUtxos(amountToSend) {\r\n    const fullAmountToSend = BigInt(amountToSend);\r\n    const walletAccessGranted = await connectWallet();\r\n    if (walletAccessGranted && hasExtensionConnector()) {\r\n        const utxos = await ergo.get_utxos(fullAmountToSend.toString());\r\n        const filteredUtxos = [];\r\n        if (utxos && Array.isArray(utxos)) {\r\n            for (const utxo of utxos) {\r\n                try {\r\n                    (await ergolib).ErgoBox.from_json(JSONBigInt.stringify(utxo));\r\n                    filteredUtxos.push(utxo);\r\n                } catch (e) {\r\n                    console.error('[getUtxos] UTxO failed parsing:', utxo, e);\r\n                }\r\n            }\r\n        }\r\n        return filteredUtxos;\r\n    } else {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        if (address !== '') {\r\n            return await getUtxosExplorerByAddress(address, fullAmountToSend)\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function getUtxosExplorerByAddress(address, amount, tokenId = 'ERG') {\r\n    const addressBoxes = await getUnspentBoxesForAddressUpdated(address);\r\n    var selectedUtxos = [], unSelectedUtxos = addressBoxes, amountSelected = BigInt(0);\r\n    if (amount) {\r\n        const amountInt = BigInt(amount.toString());\r\n        if (tokenId === 'ERG') {\r\n            while (amountSelected < amountInt && unSelectedUtxos.length > 0) {\r\n                selectedUtxos.push(unSelectedUtxos.shift());\r\n                amountSelected = selectedUtxos.reduce((acc, utxo) => acc += BigInt(utxo.value), BigInt(0));\r\n            }\r\n            if (amountSelected < amountInt) {\r\n                selectedUtxos = undefined;\r\n            }\r\n        } else {\r\n            unSelectedUtxos = unSelectedUtxos.filter(utxo => utxo.assets.map(tok => tok.tokenId).includes(tokenId));\r\n            while (amountSelected < amountInt && unSelectedUtxos.length > 0) {\r\n                selectedUtxos.push(unSelectedUtxos.shift());\r\n                amountSelected = selectedUtxos.reduce((acc, utxo) => acc += BigInt(utxo.assets.find(tok => tok.tokenId === tokenId).amount), BigInt(0));\r\n            }\r\n            if (amountSelected < amountInt) {\r\n                selectedUtxos = undefined;\r\n            }\r\n        }\r\n    } else { // all utxos\r\n        selectedUtxos = addressBoxes;\r\n    }\r\n    return selectedUtxos;\r\n}\r\n\r\nexport async function getTokenUtxos(amountTokenToSend, tokenId) {\r\n    const fullAmountToSend = BigInt(amountTokenToSend);\r\n    const walletAccessGranted = await connectWallet();\r\n    if (walletAccessGranted && hasExtensionConnector()) {\r\n        const utxos = await ergo.get_utxos(fullAmountToSend.toString(), tokenId);\r\n        //console.log(\"getTokenUtxos\", utxos)\r\n        const filteredUtxos = [];\r\n        if (utxos) {\r\n            for (const utxo of utxos) {\r\n                try {\r\n                    (await ergolib).ErgoBox.from_json(JSONBigInt.stringify(utxo));\r\n                    filteredUtxos.push(utxo);\r\n                } catch (e) {\r\n                    console.error('[getUtxos] UTxO failed parsing:', utxo, e);\r\n                }\r\n            }\r\n        } else {\r\n            errorAlert(\"Not enough token found: \" + tokenId + \" amount: \" + amountTokenToSend)\r\n        }\r\n        return filteredUtxos;\r\n    } else {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        if (address !== '') {\r\n            const explorerUtxos = await getUtxosExplorerByAddress(address, fullAmountToSend, tokenId);\r\n            if (explorerUtxos) {\r\n                return explorerUtxos;\r\n            } else {\r\n                errorAlert(\"Not enough token found: \" + tokenId + \" amount: \" + amountTokenToSend);\r\n            }\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getAllUtxos() {\r\n    var filteredUtxos = [];\r\n    const walletAccessGranted = await connectWallet();\r\n    if (walletAccessGranted && hasExtensionConnector()) {\r\n        const utxos = await ergo.get_utxos();\r\n        for (const utxo of utxos) {\r\n            try {\r\n                (await ergolib).ErgoBox.from_json(JSONBigInt.stringify(utxo));\r\n                filteredUtxos.push(utxo);\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n        }\r\n        return filteredUtxos;\r\n    } else {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        if (address !== '') {\r\n            const explorerUtxos = await getUtxosExplorerByAddress(address);\r\n            return explorerUtxos;\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nasync function signTx(txToBeSigned) {\r\n    try {\r\n        console.log(\"signTx\", txToBeSigned);\r\n        return await ergo.sign_tx(txToBeSigned);\r\n    } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nasync function submitTx(txToBeSubmitted) {\r\n    try {\r\n        console.log(\"submitTx\");\r\n        const res = await promiseTimeout(30000, ergo.submit_tx(txToBeSubmitted));\r\n        return res;\r\n    } catch (e) {\r\n        console.log(e);\r\n        return null;\r\n    }\r\n}\r\n\r\nasync function processTx(txToBeProcessed) {\r\n    const walletAccessGranted = await connectWallet();\r\n    if (walletAccessGranted && hasExtensionConnector()) {\r\n        const msg = s => {\r\n            console.log('[processTx]', s);\r\n        };\r\n        const signedTx = await signTx(txToBeProcessed);\r\n        if (!signedTx) {\r\n            console.error(`No signed transaction found`);\r\n            return null;\r\n        }\r\n        msg(\"Transaction signed - awaiting submission\");\r\n        const txId = await submitTx(signedTx);\r\n        //const txId = await postTxMempool(signedTx);\r\n        if (!txId) {\r\n            console.log(`No submitted tx ID`);\r\n            return null;\r\n        }\r\n        msg(\"Transaction submitted \");\r\n        return txId;\r\n    } else {\r\n        const [txId, ergoPayTx] = await getTxReducedB64Safe(txToBeProcessed, txToBeProcessed.inputs, txToBeProcessed.dataInputs);\r\n        displayErgoPayTransaction(txId, ergoPayTx);\r\n        return txId;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { getBalance, getWalletAddressList, isValidWalletAddress } from '../ergo-related/wallet';\r\nimport { promptErgAddr, promptErgAddrList } from \"../utils/Alerts\"\r\nimport { formatERGAmount, formatLongString, sleep } from '../utils/utils';\r\nimport ergoLogo from \"../images/ergo-erg-logo.png\";\r\n\r\n\r\nexport default class InputAddress extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ergAmount: 0,\r\n            oatmealAmount: 0,\r\n            spicyOatmealAmount: 0,\r\n            ergopay: false,\r\n        };\r\n        this.setAddress = this.setAddress.bind(this);\r\n        this.promptErgAddress = this.promptErgAddress.bind(this);\r\n    }\r\n\r\n    setAddress(address) {\r\n        const oldAddr = localStorage.getItem('address') ?? '';\r\n        if (oldAddr !== address) {\r\n            localStorage.setItem('address', address);\r\n            window.location.reload();\r\n        }\r\n    };\r\n\r\n    async promptErgAddress() {\r\n        const addrList = await getWalletAddressList();\r\n        var newAddr = '';\r\n        if (addrList.length > 0) {\r\n            newAddr = await promptErgAddrList(addrList);\r\n        } else {\r\n            newAddr = await promptErgAddr();\r\n        }\r\n\r\n        if (newAddr) {\r\n            this.setAddress(newAddr)\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await sleep(200);\r\n        const nanoERGAmount = await getBalance('ERG');\r\n        if (!(await isValidWalletAddress(localStorage.getItem('address')))) {\r\n            localStorage.setItem('address', '');\r\n        }\r\n        var ergopay = false;\r\n        if (typeof ergo === 'undefined') {\r\n            ergopay = true;\r\n        }\r\n        //console.log(\"InputAddress componentDidMount\", nanoERGAmount, oatmealAmount)\r\n        this.setState({\r\n            ergAmount: nanoERGAmount,\r\n            ergopay: ergopay,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        var glowing = \"\";\r\n        if (address === '') {\r\n            glowing = \"glowing\";\r\n        }\r\n        return (\r\n            <div className=\"zoneaddress d-flex flex-row m-2 p-1 align-items-center\">\r\n                <div className='d-flex flex-column'>\r\n                    <button\r\n                        className={\"btn btn-address m-1 \" + glowing }\r\n                        onClick={this.promptErgAddress}>\r\n                        {\r\n                            address === '' ?\r\n                                <div>Set ERG address</div>\r\n                                :\r\n                                <div>\r\n                                    {formatLongString(address, 6)}\r\n                                    {this.state.ergopay ?\r\n                                        <div>ergopay</div>\r\n                                        : null\r\n                                    }\r\n                                </div>\r\n                        }\r\n                    </button>\r\n                </div>\r\n                {\r\n                    address === '' ?\r\n                        null\r\n                        :\r\n                        <div className=\"d-flex flex-column m-1 p-1 w-100\">\r\n                            <div className=\"w-100 d-flex flex-row justify-content-between align-items-center\">\r\n                                <div><strong>{formatERGAmount(this.state.ergAmount)} </strong></div>\r\n                                &nbsp;\r\n                                <img src={ergoLogo} width=\"20px\" heigth=\"20px\" alt=\"ERG\" />\r\n\r\n                            </div>\r\n                        </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default \"data:image/png;base64,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\"","import githubLogo from \"../images/Github.png\";\r\n\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"bggrey w-100\">\r\n            <div >\r\n                © 2022 Haileypdll/ThierryM1212\r\n                &nbsp;\r\n                <a href=\"https://github.com/ThierryM1212/cyti\" target=\"_blank\" rel=\"noreferrer\">\r\n                    <img src={githubLogo} width=\"20\" height=\"20\" className=\"d-inline-block align-top\" alt=\"github\" />\r\n                </a>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\"","import React, { Fragment } from 'react';\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\n\r\nexport default function HelpToolTip(props) {\r\n    return (\r\n        <Fragment>\r\n            &nbsp;\r\n            <div className=\"d-flex flex-column align-items-center\">\r\n                <img\r\n                    src={props.image}\r\n                    alt={\"help tooltip\"}\r\n                    width=\"24px\"\r\n                    data-tip\r\n                    data-for={props.id}\r\n                />\r\n                <ReactTooltip id={props.id}\r\n                    place=\"right\"\r\n                    effect=\"solid\"\r\n                    data-html={true}\r\n                    delayShow={300}\r\n                    delayHide={300}\r\n                    insecure={true}\r\n                    multiline={true}\r\n                    backgroundColor=\"black\"\r\n                    >\r\n                    <div className=\"d-flex flex-column align-items-start\">\r\n                        {props.html}\r\n                    </div>\r\n                </ReactTooltip>\r\n            </div>\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAJwAAACcBKgmRTwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAg3SURBVHic7VxbbE1ZGP5W9fScEpdSl4nbGJdkPLgE8TCTGMK4J0ZEVCJeXCMkjEvxoH1QPWR4QNDhTVRcQtK0Ex6QDB7UrV4IQkYQ9+oULYez5uGzrB7de+11dvfpqUy/l332Wmv//9rrX+tf//r/fx8hpZRSohVpQka6O/B/R6sA0oxWAaQZmenugIIQhYVARgaQlQUMGgRICQwZwrL+/Xnfuzfvc3L4VCSSSKW+nu1eveL9w4e83r3L527cANauBW7f5r6X/t1PpGsTFuKPP4DcXODTJ2DqVCAeB8aOZW2XLqnkDLx4QX7nzgEfPgDl5VJu2sTy5kWzCYAzvEMHztp581g6fjxnYWYaV6IQwMeP/H36NO8PHpRy7Vqgtjbl3FMtACG2bQPGjOFMX7yYpe3bp45jEKit5cTYs0fK9euBv/9OFafABcCZnpnJmb54MV9k0qTkqNTV8VpZyRl54wZ1+L17VB3PnlHfv32rn4lEgHbtWN+9O9v366f3EgAYNYrX7Oxk3gioqACuXAFKSqQ8coSTKRgEJgAhdu4EwmEOSn4+S0eOtHlSb5qHDwNt2wJnzki5fDnw/n3Te+bUvzFjyHfWLArou+/s+llZScEXF3PP+PChyf1qqgD0jA+HgY0bWeo18LEYX+jIEb7QyZN8ofp6/z1JDrrfWVnAjBnsz9y5rA2FTE9SEFeuAJs3N3VFBCCAaBRYtsxO1VRXs11REXXrrVv+OQcLIbZuBX78kSpswwaWdupkegKoqJBy3Tpgzx7ffP0KIHFzXb3a3NF//uFsKyiQ8vffkzH3hCguBr7/nne//srr0KGk262bbikl9wYhgOvXadmcPi3lxo3kb8tvyxaga1fuIZs2kW7fvub3i0YpiPPnbfl8eTpZAWhzMhwG9u5lqZtVU13N5bxqle3AC1FSwmeqq4EFCzgAkyerWvueAnxWCOCvv6je/vyTqk6ZnaZ+KEEIAWzfzlK3FVFTQ4EtXZqs+erDFdHQjncaeCG4OSlV42fgCwr4/JQpmqYfCKHpZGUBhYVa95tBFfn8OQe2qIilsZhz644dyUftIfawFgA7npvLu/Hjza2PHk1ex796BSxcmGg2BgkhSDcc5sqyA2f0zZu8Ky01tQQmTuTKsT/JJ7ECsrPpMnA7uSpzklaNLdVEHW/axJULQUqguJgDOXu2vgoBbNnCto8fm7lOnkzjoU8f237SJD5xgr+fPHFuEwpxxUydakvVUwDaSdbQV+OGw4eTNyeFACZM0L+d6l+84HXFCq6sCxekXLkSqKvT13XrgIsX2VdlFLx86cwzI4OCVJu6NxL3juPHTS2BsWP5Jt6q02IFKO8k4L606urUAcqb3teIx4Hhw831+/fbbm66nRDA/v3uLYUAhg1Lvr/v39OJJ4T7RMvN5WocONCLmoUAbHRyZaX/k6sQem9xQiQCXL2aPN02bYBr19zrpUw0Y+2gV7iUwOXLZv7ee5mFF1L5492gfDX+IGV+PnV40Hj7lvtDOOxcL4S7VWOLqipef/65cZ2UwIABXhQsN+FevQwkPjvJWhoiEWD0aHObBw/80//4Ebh/371eSqBnTy8qlgJQESgnvHsHPH1qRyf1oFU1YAAHYP58c+vycv+cQiF3a4g9ATp39qJiIQAhvN23795500ktaH//9FOiOdqunXPr8+fpsb1wwT/HnBzze0tp4/ZuMTFhv+CMz8ujKszL0+6Hxi21O3nHDjpg0h8TtrSCVIDEDW3bBtMde9B7OWsW7+bOdR94gOZxfT1dI8H48ekyMb23EN7jZr0Cqqt5dfL9ZGUBPXrw97//2tHzDyG2b2d2RDyufVLOLRnjzc8Hdu0KfsYLwfd2o9kwO8MdlpuwSu9wJPE59NdciMWAadM0byfcucMZv3t36lRNPG5+byGAR4+8qFgK4O5d97pUOc9M/AYPNrcpLaWqicdT25ehQ93r4nHzuBEWAlAJTSaMGqVjrs2Brl3d64QAbt9OFWf6xiIR8jGFXjMz9UHN0MqbJTPJgGhUeyO/dh1kZ+tgN0Ddmxrw5DxnTqroeyMcBn75hePwdWYeQME8fw6sWRPICtApfCqTzA3MMrANeHxr0AEjlU3h3hI4e9Y29TGJgWIKH6U+Y0bjuIBK71BZBgBw7Jg9fTvQ7i8rc6vnCpk+PWi+XP2//UaV3L27U884RqFQMids64BMYu6kScUwvUNnGXzb4Al78GB6N/Py3FtKCZw6xfiEt/mp4CMmzNxJ/q6pcW4TCqn0Dh3c/raQGJRfv96cw1pby5VhClk6I2kB6ICHlMC+febWnTqp9I5vRRCJA19QwFJTfpCUPG/4S+YNKDFr6dLELAY3vH6tsgwSg93ph1Y1QujErI4dzU+VlXHPKSnxzbfpApg9m/pxxAimJkqpk2DdoAIhpaUq2G2brxMUtLUWCgEzZ2odb5Muf+kSo3RFRWlPTfxCSBQW0gKKROh/sRGEgvKrHz+uYq5B54rqA5Sy4xsm5zpZNU64dIn9i0ZbTHJuI4IJK2LRIjvVlEihccy1qkpHoFQgxC09PRajkywUAn74QbtK1MnV7QBlQlkZZ/yBAy02Pd2VgYhGGTOVEliyhKVeujXdqKlJ/ECjKYEbM5rxE6WtW+nOVil8zCRjrSkdPPU906mUp05RxRw6RBXz5k3KuafvI70dOxgzjcX0R3rjxrHWlKbSdM701cTjwNmzVEfl5ckeoALrTUv5qwKdSaYSmlRejUrvaJhl0KVL41h1w8jdy5faH6/cwso7SSfZ//4z1VYQrV/KpxmtAkgzWgWQZvwHgl/8Mza9GeYAAAAASUVORK5CYII=\"","import React, { Fragment } from 'react';\r\nimport Select from 'react-select';\r\n\r\nexport default function ThemedSelect(props) {\r\n    const colors = {\r\n        /*\r\n         * multiValue(remove)/color:hover\r\n         */\r\n        danger: 'var(--danger)',\r\n\r\n        /*\r\n         * multiValue(remove)/backgroundColor(focused)\r\n         * multiValue(remove)/backgroundColor:hover\r\n         */\r\n        dangerLight: 'var(--danger-light)',\r\n\r\n        /*\r\n         * control/backgroundColor\r\n         * menu/backgroundColor\r\n         * option/color(selected)\r\n         */\r\n        neutral0: 'var(--my-bg-color1)',\r\n\r\n        /*\r\n          * control/backgroundColor(disabled)\r\n         */\r\n        neutral5: 'var(--neutral-5)',\r\n\r\n        /*\r\n         * control/borderColor(disabled)\r\n         * multiValue/backgroundColor\r\n         * indicators(separator)/backgroundColor(disabled)\r\n         */\r\n        neutral10: 'var(--neutral-10)',\r\n\r\n        /*\r\n         * control/borderColor\r\n         * option/color(disabled)\r\n         * indicators/color\r\n         * indicators(separator)/backgroundColor\r\n         * indicators(loading)/color\r\n         */\r\n        neutral20: 'var(--neutral-20)',\r\n\r\n        /*\r\n         * control/borderColor(focused)\r\n         * control/borderColor:hover\r\n         */\r\n        neutral30: 'var(--neutral-30)',\r\n\r\n        /*\r\n         * menu(notice)/color\r\n         * singleValue/color(disabled)\r\n         * indicators/color:hover\r\n         */\r\n        neutral40: 'var(--neutral-40)',\r\n\r\n        /*\r\n         * placeholder/color\r\n         */\r\n        neutral50: 'var(--neutral-50)',\r\n\r\n        /*\r\n         * indicators/color(focused)\r\n         * indicators(loading)/color(focused)\r\n         */\r\n        neutral60: 'var(--neutral-60)',\r\n\r\n        neutral70: 'var(--neutral-70)',\r\n\r\n        /*\r\n         * input/color\r\n         * multiValue(label)/color\r\n          * singleValue/color\r\n         * indicators/color(focused)\r\n         * indicators/color:hover(focused)\r\n         */\r\n        neutral80: 'var(--neutral-80)',\r\n\r\n        neutral90: 'var(--neutral-90)',\r\n\r\n        /*\r\n         * control/boxShadow(focused)\r\n         * control/borderColor(focused)\r\n         * control/borderColor:hover(focused)\r\n         * option/backgroundColor(selected)\r\n         * option/backgroundColor:active(selected)\r\n         */\r\n        primary: 'var(--my-bg-color4)',\r\n\r\n        /*\r\n         * option/backgroundColor(focused)\r\n         */\r\n        primary25: 'var(--my-bg-color2)',\r\n\r\n        /*\r\n         * option/backgroundColor:active\r\n         */\r\n        primary50: 'var(--my-bg-color3)',\r\n\r\n        primary75: 'var(--my-bg-color3)',\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Select id={props.id}\r\n                className='d-flex justify-content-start selectReact '\r\n                value={{\r\n                    value: props.value,\r\n                    label: props.value\r\n                }}\r\n                onChange={props.onChange}\r\n                options={props.options}\r\n                isSearchable={false}\r\n                isMulti={false}\r\n                theme={theme => ({\r\n                    ...theme,\r\n                    colors: {\r\n                        ...colors\r\n                    }\r\n                })}\r\n            />\r\n        </Fragment>\r\n\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport { RECOMMENDED_FEES, NANOERG_TO_ERG } from '../utils/constants';\r\nimport { formatERGAmount } from '../utils/utils';\r\nimport HelpToolTip from './HelpToolTip';\r\nimport HelpImage from \"../images/help_outline_blue_48dp.png\";\r\nimport ThemedSelect from './ThemedSelect';\r\nimport TokenMedia from './TokenMedia';\r\n\r\n\r\n/* global BigInt */\r\n\r\nconst MAX_SIGNIFICANT_NUMBER_TOKEN = 19;\r\n\r\nconst optionsType = [\r\n    { value: 'Standard', label: 'Standard' },\r\n    { value: 'Picture', label: 'Picture' },\r\n    { value: 'Audio', label: 'Audio' },\r\n    { value: 'Video', label: 'Video' },\r\n]\r\n\r\nexport default class MintToken extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var optionsDecimals = [];\r\n        for (var i = 0; i < 10; i++) {\r\n            optionsDecimals.push({ value: i.toString(), label: i.toString() })\r\n        }\r\n        this.state = {\r\n            id: props.id,\r\n            tokenName: props.token.name,\r\n            tokenAmount: props.token.amount,\r\n            tokenDescription: props.token.desc,\r\n            tokenDecimals: props.token.decimals,\r\n            tokenType: props.token.type,\r\n            tokenMediaHash: props.token.mediaHash,\r\n            tokenMediaAddress: props.token.mediaURL,\r\n            tokenIDStart: props.token.idPattern,\r\n            fee: props.token.CYTIFee,\r\n            updateHandler: props.updateHandler,\r\n            nbTokens: props.nbTokens,\r\n            optionsDecimals: optionsDecimals,\r\n            recommendedFee: RECOMMENDED_FEES[props.token.idPattern.length],\r\n        };\r\n        this.setTokenName = this.setTokenName.bind(this);\r\n        this.setTokenDescription = this.setTokenDescription.bind(this);\r\n        this.setTokenAmount = this.setTokenAmount.bind(this);\r\n        this.setTokenDecimals = this.setTokenDecimals.bind(this);\r\n        this.setTokenType = this.setTokenType.bind(this);\r\n        this.setTokenMediaAddress = this.setTokenMediaAddress.bind(this);\r\n        this.isValidTokenAmount = this.isValidTokenAmount.bind(this);\r\n        this.validateAmountStrInt = this.validateAmountStrInt.bind(this);\r\n    }\r\n    getToken = () => {\r\n        return {\r\n            type: this.state.tokenType,\r\n            name: this.state.tokenName,\r\n            desc: this.state.tokenDescription,\r\n            amount: this.state.tokenAmount,\r\n            decimals: this.state.tokenDecimals,\r\n            mediaURL: this.state.tokenMediaAddress,\r\n            mediaHash: this.state.tokenMediaHash,\r\n            idPattern: this.state.tokenIDStart,\r\n            CYTIFee: this.state.fee,\r\n        }\r\n    }\r\n    setTokenName = (name) => {\r\n        this.setState({ tokenName: name }, () => {\r\n            this.state.updateHandler(this.state.id, this.getToken())\r\n        });\r\n    };\r\n    setTokenDescription = (desc) => {\r\n        this.setState({ tokenDescription: desc }, () => {\r\n            this.state.updateHandler(this.state.id, this.getToken())\r\n        });\r\n    };\r\n    setTokenAmount = (amount) => {\r\n        if (this.isValidTokenAmount(amount)) {\r\n            this.setState({ tokenAmount: amount }, () => {\r\n                this.state.updateHandler(this.state.id, this.getToken())\r\n            });\r\n        }\r\n    };\r\n    setTokenDecimals = (dec) => {\r\n        this.setState({\r\n            tokenDecimals: dec,\r\n            tokenMediaAddress: '',\r\n            tokenMediaHash: '',\r\n        });\r\n        if (dec === '0') {\r\n            this.setTokenAmount(this.state.tokenAmount.split('.')[0]);\r\n        } else {\r\n            const splittedAmount = this.state.tokenAmount.split('.');\r\n            var newAmount = splittedAmount[0];\r\n            if (splittedAmount.length > 1 && typeof splittedAmount[1] === 'string' && splittedAmount[1].length > 0) {\r\n                newAmount = newAmount + '.' + splittedAmount[1].substring(0, dec);\r\n            }\r\n            if (newAmount.toString().length + parseInt(dec) <= 19) {\r\n                this.setTokenAmount(newAmount);\r\n            } else { // token amount too big with new decimals\r\n                this.setTokenAmount(\"1\");\r\n            }\r\n        }\r\n    };\r\n    setTokenType = (type) => {\r\n        var decimals = this.state.tokenDecimals;\r\n        if (type !== 'Standard') {\r\n            decimals = '0';\r\n        }\r\n        this.setState({\r\n            tokenType: type,\r\n        });\r\n        this.setTokenDecimals(decimals);\r\n    };\r\n    setTokenMediaAddress(addr) {\r\n        this.setState({ tokenMediaAddress: addr}, () => {\r\n            this.state.updateHandler(this.state.id, this.getToken());\r\n            //console.log(\"tokenMediaHash\", this.state.tokenMediaHash)\r\n        });\r\n    };\r\n    setTokenIDStart = (startID) => {\r\n        const fixedStartID = startID.toLowerCase().replace(/[^a-f0-9]/gi, '').substring(0, RECOMMENDED_FEES.length - 1)\r\n        var recommendedFee = RECOMMENDED_FEES[fixedStartID.length];\r\n        var CYTIFee = parseFloat(recommendedFee / NANOERG_TO_ERG).toFixed(4);\r\n        if (this.state.nbTokens === 1 && fixedStartID === \"\") {\r\n            recommendedFee = 0;\r\n            CYTIFee = 0;\r\n        }\r\n        console.log(\"setTokenIDStart\", recommendedFee, CYTIFee, fixedStartID);\r\n        this.setState({\r\n            tokenIDStart: fixedStartID,\r\n            recommendedFee: recommendedFee,\r\n            fee: CYTIFee,\r\n        }, () => {\r\n            this.state.updateHandler(this.state.id, this.getToken());\r\n        });\r\n    };\r\n    setFee = (feeFloat) => {\r\n        var fixedFee = parseFloat(0).toFixed(4);\r\n        if(feeFloat) {\r\n            fixedFee = feeFloat.replace(',', '.').replace(/[^0-9\\.]/g, ''); //eslint-disable-line\r\n        }\r\n        this.setState({\r\n            fee: fixedFee,\r\n        }, () => {\r\n            this.state.updateHandler(this.state.id, this.getToken())\r\n        });\r\n    }\r\n\r\n    async componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.token !== this.props.token ||\r\n            prevProps.nbTokens !== this.props.nbTokens ||\r\n            prevProps.id !== this.props.id) {\r\n            this.setState({\r\n                id: this.props.id,\r\n                tokenName: this.props.token.name,\r\n                tokenAmount: this.props.token.amount,\r\n                tokenDescription: this.props.token.desc,\r\n                tokenDecimals: this.props.token.decimals,\r\n                tokenType: this.props.token.type,\r\n                tokenMediaHash: this.props.token.mediaHash,\r\n                tokenMediaAddress: this.props.token.mediaURL,\r\n                tokenIDStart: this.props.token.idPattern,\r\n                fee: this.props.token.CYTIFee,\r\n                nbTokens: this.props.nbTokens,\r\n                updateHandler: this.props.updateHandler,\r\n            });\r\n        }\r\n    }\r\n\r\n    isValidTokenAmount = (amount) => {\r\n        //console.log(\"isValidTokenAmount\", amount, this.state.tokenDecimals);\r\n        var validAmount = false;\r\n        if (amount.match(\"^[0-9\\.]+$\") !== null) { //eslint-disable-line\r\n            if (this.state.tokenDecimals === '0') { // No decimals\r\n                if (amount.match(\"^[0-9]+$\") !== null) {\r\n                    validAmount = this.validateAmountStrInt(amount);\r\n                }\r\n            } else { // Token decimals allowed\r\n                var splited = amount.split('.');\r\n                if (splited.length === 1) { // no decimals\r\n                    validAmount = this.validateAmountStrInt(amount + parseInt(this.state.tokenDecimals));\r\n                }\r\n                if (splited.length === 2) {\r\n                    if (amount.length - 1 < MAX_SIGNIFICANT_NUMBER_TOKEN) {\r\n                        if (splited[1].length <= parseInt(this.state.tokenDecimals)) {\r\n                            validAmount = this.validateAmountStrInt(splited[0] + splited[1]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return validAmount;\r\n    }\r\n    validateAmountStrInt = (amountStrInt) => {\r\n        if (amountStrInt.length <= MAX_SIGNIFICANT_NUMBER_TOKEN) {\r\n            try {\r\n                BigInt(amountStrInt);\r\n                return true;\r\n            } catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment >\r\n                <div className=\"card zonemint container p-1 m-1\">\r\n                    <div className='d-flex flex-row justify-content-between align-items-end m-1 p-1'>\r\n                        <label htmlFor=\"tokenType\" className='col-sm-4 d-flex align-items-start'>Type</label>\r\n                        <div className='w-100 d-flex flex-row'>\r\n                            <ThemedSelect id=\"tokenType\"\r\n                                value={this.state.tokenType}\r\n                                onChange={(type) => this.setTokenType(type.value)}\r\n                                options={optionsType}\r\n                            />\r\n                            <div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-between align-items-end m-1 p-1'>\r\n                        <label htmlFor=\"tokenName\" className='col-sm-4 d-flex align-items-start'>Name</label>\r\n                        <input type=\"text\"\r\n                            id=\"tokenName\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setTokenName(e.target.value)}\r\n                            value={this.state.tokenName}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-between align-items-center m-1 p-1'>\r\n                        <label htmlFor=\"tokenDescription\" className='col-sm-4 d-flex align-items-start'>Description</label>\r\n                        <textarea id=\"tokenDescription\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setTokenDescription(e.target.value)}\r\n                            value={this.state.tokenDescription}\r\n                            rows=\"4\"\r\n                        />\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-between align-items-end m-1 p-1'>\r\n                        <label htmlFor=\"tokenAmount\" className='col-sm-4 d-flex justify-content-start align-items-start'>Amount</label>\r\n                        <input type=\"text\"\r\n                            id=\"tokenAmount\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setTokenAmount(e.target.value)}\r\n                            value={this.state.tokenAmount}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                    {\r\n                        this.state.tokenType === 'Standard' ?\r\n                            <div className='d-flex flex-row justify-content-between align-items-end m-1 p-1'>\r\n                                <label htmlFor=\"tokenDecimals\" className='col-sm-4 d-flex align-items-start'>Decimals</label>\r\n                                <div className='w-100 d-flex flex-row justify-content-between '>\r\n                                    <ThemedSelect id=\"tokenDecimals\"\r\n                                        value={this.state.tokenDecimals}\r\n                                        onChange={(dec) => this.setTokenDecimals(dec.value)}\r\n                                        options={this.state.optionsDecimals}\r\n                                    />\r\n                                    <div></div>\r\n                                </div>\r\n                            </div>\r\n                            : null\r\n                    }\r\n                    <TokenMedia type={this.state.tokenType} address={this.state.tokenMediaAddress} width={200} />\r\n                    {\r\n                        this.state.tokenType === \"Standard\" ? null\r\n                            :\r\n                            <Fragment>\r\n\r\n                                <div className='d-flex flex-row justify-content-between align-items-end m-1 p-1'>\r\n                                    <label htmlFor=\"tokenMediaAddr\" className='col-sm-4 d-flex align-items-start'>{this.state.tokenType} URL</label>\r\n                                    <input type=\"text\"\r\n                                        id=\"tokenMediaAddr\"\r\n                                        className=\"form-control col-sm input-dark\"\r\n                                        onChange={e => this.setTokenMediaAddress(e.target.value)}\r\n                                        value={this.state.tokenMediaAddress}\r\n                                        autoComplete=\"off\"\r\n                                    />\r\n                                </div>\r\n                            </Fragment>\r\n                    }\r\n                    <div className='d-flex flex-row justify-content-between align-items-center m-1 p-1'>\r\n                        <label htmlFor=\"tokenIdStart\" className='col-sm-4 d-flex align-items-center'>Desired token ID start\r\n                            <HelpToolTip image={HelpImage} id=\"tokenIdStartToolTip\" html={\r\n                                <Fragment>\r\n                                    <div>Hexadecimal ([0-9a-f]) characters chosen for the begining of the minted token ID. </div>\r\n                                    <div>The maximum allowed length is currently 8 characters given the performance of the miner.</div>\r\n                                    <div>The difficulty goes by two charracters: 1 and 2 character length will have the same difficulty, like 3 and 4 ...</div>\r\n                                    <div>Leave empty to mint a standard token instead of a minable CYTI contract.</div>\r\n                                </Fragment>\r\n                            } />\r\n                        </label>\r\n                        <input type=\"text\"\r\n                            id=\"tokenIdStart\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setTokenIDStart(e.target.value)}\r\n                            value={this.state.tokenIDStart}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-between align-items-center m-1 p-1'>\r\n                        <label htmlFor=\"recommendedFee\" className='col-sm-4 d-flex align-items-end'>Recommended fee\r\n                            <HelpToolTip image={HelpImage} id=\"recommendedFeeToolTip\" html={\r\n                                <Fragment>\r\n                                    <div>Fee recommended by default in the miner configuration.</div>\r\n                                </Fragment>\r\n                            } />\r\n                        </label>\r\n                        <div className='w-100 d-flex flex-row justify-content-between align-items-center'>\r\n                            <div id=\"recommendedFee\" className='d-flex align-items-start'>\r\n                                {formatERGAmount(this.state.recommendedFee)\r\n                                } ERG</div>\r\n                            <div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-left  m-1 p-1'>\r\n                        <label htmlFor=\"fee\" className='col-sm-4 d-flex align-items-center'>CYTI fee\r\n                            <HelpToolTip image={HelpImage} id=\"feeToolTip\" html={\r\n                                <Fragment>\r\n                                    <div className='d-flex flex-column align-items-start'>\r\n                                        <div>Fee for token ID miners</div>\r\n                                        <div>Min 0.0042 ERG per token for non-empty token ID pattern.</div>\r\n                                        <div>Min 0.0031 ERG for empty token ID pattern, and 0.002 will be refunded, minimal CYTI cost 0.0011 ERG per token.</div>\r\n                                        <div>A CYTI contract with a too low fee might never be mined but it is refundable.</div>\r\n                                    </div>\r\n                                </Fragment>\r\n                            } />\r\n                        </label>\r\n                        <input type=\"text\"\r\n                            id=\"fee\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setFee(e.target.value)}\r\n                            value={this.state.fee}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                </div >\r\n            </Fragment >\r\n        )\r\n    }\r\n}\r\n","import { errorAlert } from \"./Alerts\";\r\nimport { NANOERG_TO_ERG, NFT_TYPES, RECOMMENDED_FEES } from \"./constants\";\r\nimport { downloadAndSetSHA256 } from \"./utils\";\r\n\r\n/* global BigInt */\r\n\r\nexport default class TokenMintDesc {\r\n    constructor(name, type, desc, amount, decimals, mediaURL, mediaHash, idPattern, CYTIFee) {\r\n        this.name = name;\r\n        this.type = type;\r\n        this.desc = desc;\r\n        this.amount = amount;\r\n        this.decimals = decimals;\r\n        this.mediaURL = mediaURL;\r\n        this.mediaHash = mediaHash;\r\n        this.idPattern = idPattern;\r\n        this.CYTIFee = CYTIFee;\r\n    }\r\n}\r\n\r\nexport function getEmptyTokenMintDesc(name = 'Token') {\r\n    return new TokenMintDesc(\r\n        name, 'Standard', '', '1', '0', '', '', '', (RECOMMENDED_FEES[0] / NANOERG_TO_ERG).toString()\r\n    )\r\n}\r\n\r\nexport async function tokenMintDescFromJSON(token) {\r\n    var newToken = {};\r\n    // Name\r\n    if (!token[\"name\"]) {\r\n        errorAlert(\"Invalid token, name field is mandatory\");\r\n        return;\r\n    }\r\n    newToken[\"name\"] = token[\"name\"];\r\n    // Type\r\n    if (!token[\"type\"]) {\r\n        newToken[\"type\"] = 'Standard';\r\n    } else {\r\n        if (!Object.keys(NFT_TYPES).includes(token[\"type\"])) {\r\n            errorAlert(\"Invalid token type, it needs to be in the list: \" + Object.keys(NFT_TYPES));\r\n            return;\r\n        }\r\n    }\r\n    newToken[\"type\"] = token[\"type\"];\r\n    // description\r\n    if (token[\"desc\"]) {\r\n        newToken[\"desc\"] = token[\"desc\"];\r\n    } else {\r\n        newToken[\"desc\"] = '';\r\n    }\r\n    // amount\r\n    if (token[\"amount\"]) {\r\n        try {\r\n            BigInt(token[\"amount\"]);\r\n        } catch (e) {\r\n            errorAlert(\"Invalid token amount\");\r\n            return;\r\n        }\r\n        newToken[\"amount\"] = token[\"amount\"];\r\n    } else {\r\n        newToken[\"amount\"] = \"1\";\r\n    }\r\n    // decimals\r\n    if (token[\"decimals\"]) {\r\n        try {\r\n            parseInt(token[\"decimals\"]);\r\n        } catch (e) {\r\n            errorAlert(\"Invalid token decimals\");\r\n            return;\r\n        }\r\n        if (newToken[\"type\"] !== 'Standard') {\r\n            newToken[\"decimals\"] = \"0\";\r\n        } else {\r\n            newToken[\"decimals\"] = token[\"decimals\"];\r\n        }\r\n    } else {\r\n        newToken[\"decimals\"] = \"0\";\r\n    }\r\n    // URL\r\n    if (token[\"mediaURL\"]) {\r\n        newToken[\"mediaURL\"] = token[\"mediaURL\"];\r\n    } else {\r\n        newToken[\"mediaURL\"] = \"\";\r\n    }\r\n    // Media hash\r\n    if (token[\"mediaHash\"]) {\r\n        newToken[\"mediaHash\"] = token[\"mediaHash\"];\r\n    } else {\r\n        if (newToken[\"type\"] === 'Standard') {\r\n            newToken[\"mediaHash\"] = \"\";\r\n        } else {\r\n            if (newToken[\"mediaURL\"].length > 0) {\r\n                newToken[\"mediaHash\"] = await downloadAndSetSHA256(newToken[\"mediaURL\"]);\r\n            } else {\r\n                newToken[\"mediaHash\"] = \"\";\r\n            }\r\n        }\r\n    }\r\n    // CYTI token ID pattern\r\n    if (token[\"idPattern\"]) {\r\n        newToken[\"idPattern\"] = token[\"idPattern\"];\r\n    } else {\r\n        newToken[\"idPattern\"] = \"\";\r\n    }\r\n    // CYTI fee\r\n    if (token[\"CYTIFee\"]) {\r\n        try {\r\n            parseFloat(token[\"CYTIFee\"]);\r\n        } catch (e) {\r\n            errorAlert(\"Invalid CYTIFee\");\r\n            return;\r\n        }\r\n        newToken[\"CYTIFee\"] = token[\"CYTIFee\"];\r\n    } else {\r\n        newToken[\"CYTIFee\"] = (RECOMMENDED_FEES[newToken[\"idPattern\"].length] / NANOERG_TO_ERG).toString();\r\n    }\r\n    return new TokenMintDesc(newToken[\"name\"], newToken[\"type\"], newToken[\"desc\"], newToken[\"amount\"],\r\n        newToken[\"decimals\"], newToken[\"mediaURL\"], newToken[\"mediaHash\"], newToken[\"idPattern\"], newToken[\"CYTIFee\"]);\r\n}","import { useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport LoadImage from \"../images/file_download_black_48dp.png\";\r\nimport { errorAlert } from '../utils/Alerts';\r\nimport { tokenMintDescFromJSON } from '../utils/TokenMintDesc';\r\n\r\n\r\nexport default function LoadButton(props) {\r\n    const onDrop = useCallback((acceptedFiles) => {\r\n        acceptedFiles.forEach((file) => {\r\n            const reader = new FileReader()\r\n\r\n            reader.onabort = () => console.log('file reading was aborted')\r\n            reader.onerror = () => console.log('file reading has failed')\r\n            reader.onload = async () => {\r\n                const binaryStr = reader.result\r\n                //console.log(binaryStr)\r\n                var enc = new TextDecoder(\"utf-8\");\r\n                var json = {};\r\n                try {\r\n                    json = JSON.parse(enc.decode(binaryStr));\r\n                } catch (e) {\r\n                    errorAlert(\"Invalid json file\");\r\n                    return;\r\n                }\r\n                if (Array.isArray(json)) {\r\n                    if (json.length > 0) {\r\n                        var tokenList = [];\r\n                        for (const token of json) {\r\n                            const newToken = await tokenMintDescFromJSON(token);\r\n                            tokenList.push(newToken);\r\n                            console.log(\"newToken\", newToken)\r\n                        }\r\n                        props.loadTab(tokenList);\r\n                    } else {\r\n                        errorAlert(\"Invalid json file, array is empty\");\r\n                        return;\r\n                    }\r\n                } else {\r\n                    errorAlert(\"Invalid json file, it needs to be an array of token descriptions. \");\r\n                    return;\r\n                }\r\n            }\r\n            reader.readAsArrayBuffer(file)\r\n        })\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        accept: '.json'\r\n    })\r\n\r\n    return (\r\n        <span {...getRootProps()}>\r\n            <input {...getInputProps()} />\r\n            <img\r\n                src={LoadImage}\r\n                alt={\"load tooltip\"}\r\n                width=\"24px\"\r\n                data-tip\r\n                data-for={\"loadFileTT\"}\r\n            />\r\n            <ReactTooltip id={\"loadFileTT\"}\r\n                place=\"right\"\r\n                effect=\"solid\"\r\n                data-html={true}\r\n                delayShow={300}\r\n                delayHide={300}\r\n                insecure={true}\r\n                multiline={true}\r\n                backgroundColor=\"black\"\r\n            >\r\n                <span>Load a json file with one or more token definition.</span>\r\n                <span>Check the README on github for the compatible file format.</span>\r\n            </ReactTooltip>\r\n        </span>\r\n    )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAJwAAACcBKgmRTwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI/SURBVHic7ZqxSgNBFEXvxGgEf8kfMCJICgvBSqztRARLjfEXLEQjNoLfoa1WfoigRvIsHs/F6MbozObO6jvNJpll38w9mZll2SAiIgKHRIPdgf+OCyDjAsi4ADIugIwLIOMCyDTZHfgpIRwdAY+PZe0iu7vAwsI0+xSDzwAyLoCMCyDjAsi4ADIugIwLIOMCyLgAMi6ADF1ACIeHwMlJCAcHwMpK9fW0jtWtut530AToM51+H2g0gPV1oNkEzs9D6HaB1dX09bpdoN3WemdnVjeEXg+4ukpdb1KmLqAIHgA6naJFBJib02BOT1OJKIIHgIsLIASg1fpYt91miSDMgOEQeHoqbx8VcXz8UdRkaKDLy/rtq+C/qjuuX9UQWK+lFGuwLUHlZwIvL3rc3FSBNoPKzl9b08/9vgY7LngAuL7Wx9gbGz8fSRw0Ae8dKF2SPp+pImyGxJ4HMIM36ALeOzLxjEgBP3iDfhtqiOztAVtbusRcXlZTJZ/gjWwEGNWIyC94IzsBRhoR+QZvZCvA+J2I/IM3ojfhab+lMH6zTh981eOr3WspNiM0mPn54vd6/ONHqZ0Ao66Bj5L9HvDXcQFkXACZRHvAYKDH2dnRlu/uIuqLPXOKI8EMEAEeHuKvUzeGwxTjTiBgZgbY3tbPz8/x18sdER3n62sx7t8TLUBkZwe4udFOLS7q1Ly701ZbmurOYKDB399r8EtLIvv7wO1t7JWzeRz9X/G7IDIugIwLIOMCyLgAMi6AjAsg8wb/1wd0HFljlwAAAABJRU5ErkJggg==\"","import React, { Fragment } from 'react';\r\nimport { mintCITYContracts } from '../ergo-related/mint';\r\nimport { TX_FEE, NANOERG_TO_ERG } from '../utils/constants';\r\nimport { formatERGAmount } from '../utils/utils';\r\nimport HelpToolTip from './HelpToolTip';\r\nimport HelpImage from \"../images/help_outline_blue_48dp.png\";\r\n\r\n\r\nexport default class MintTokens extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tokenList: props.tokenList,\r\n            fee: parseFloat(TX_FEE / NANOERG_TO_ERG),\r\n        };\r\n    }\r\n\r\n    setFee = (feeFloat) => {\r\n        const fixedFee = feeFloat.replace(',', '.').replace(/[^0-9\\.]/g, ''); //eslint-disable-line\r\n        this.setState({\r\n            fee: fixedFee,\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.tokenList !== this.props.tokenList) {\r\n            this.setState({\r\n                tokenList: this.props.tokenList,\r\n            });\r\n        }\r\n    }\r\n\r\n    async mintToken() {\r\n        await mintCITYContracts(this.state.tokenList, this.state.fee);\r\n    }\r\n\r\n    render() {\r\n        const address = localStorage.getItem('address') ?? '';\r\n        const cytiFee = this.state.tokenList.reduce((acc, tok) => acc += parseFloat(tok.CYTIFee), 0);\r\n        return (\r\n            <Fragment >\r\n                <div className=\"w-100 card zonemint container p-1 m-1\">\r\n                    <div className='d-flex flex-row justify-content-left  m-1 p-1'>\r\n                        <label htmlFor=\"nbTokens\" className='col-sm-4 d-flex align-items-center'>Number of tokens\r\n                        </label>\r\n                        <div className='w-100 d-flex flex-row justify-content-between align-items-center'>\r\n                            <div id=\"nbTokens\" className='d-flex align-items-start'>{this.state.tokenList.length}</div>\r\n                            <div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-left  m-1 p-1'>\r\n                        <label htmlFor=\"cytiFee\" className='col-sm-4 d-flex align-items-center'>Total CYTI fee\r\n                            <HelpToolTip image={HelpImage} id=\"feeToolTip0\" html={\r\n                                <Fragment>\r\n                                    <div className='d-flex flex-column align-items-start'>\r\n                                        <div>Fee for token ID miners</div>\r\n                                        <div>Min 0.0042 ERG per token for non-empty token ID pattern.</div>\r\n                                        <div>Min 0.0031 ERG for empty token ID pattern, and 0.002 will be refunded, minimal cost 0.0021 ERG per token.</div>\r\n                                    </div>\r\n                                </Fragment>\r\n                            } />\r\n                        </label>\r\n                        <div className='w-100 d-flex flex-row justify-content-between align-items-center'>\r\n                            <div id=\"cytiFee\" className='d-flex align-items-start'>{formatERGAmount(cytiFee * NANOERG_TO_ERG)} ERG</div>\r\n                            <div></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-left  m-1 p-1'>\r\n                        <label htmlFor=\"txFee\" className='col-sm-4 d-flex align-items-center'>Transaction fee\r\n                            <HelpToolTip image={HelpImage} id=\"feeToolTip1\" html={\r\n                                <Fragment>\r\n                                    <div>Fee for transaction miners (0.0011 ERG)</div>\r\n                                </Fragment>\r\n                            } />\r\n                        </label>\r\n                        <input type=\"text\"\r\n                            id=\"txFee\"\r\n                            className=\"form-control col-sm input-dark\"\r\n                            onChange={e => this.setFee(e.target.value)}\r\n                            value={this.state.fee}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                    </div>\r\n                    <div className='d-flex flex-row justify-content-center align-items-center m-1 p-1'>\r\n                        <button className='btn btn-blue'\r\n                            onClick={() => this.mintToken()}\r\n                            disabled={address === ''}\r\n                        >\r\n                            Mint CYTI\r\n                        </button>\r\n                    </div>\r\n                </div >\r\n            </Fragment >\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport './react-tabs.css';\r\nimport MintToken from './MintToken';\r\nimport AddImage from \"../images/add_circle_outline_black_48dp.png\";\r\nimport DeleteImage from \"../images/highlight_off_black_48dp.png\";\r\nimport ExportImage from \"../images/file_upload_black_48dp.png\";\r\nimport LoadButton from './LoadButton';\r\nimport MintTokens from './MintTokens';\r\nimport { getEmptyTokenMintDesc } from '../utils/TokenMintDesc';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\n\r\nexport default class MintTabs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tabList: [getEmptyTokenMintDesc()],\r\n        };\r\n        this.exportTabs = this.exportTabs.bind(this);\r\n    }\r\n\r\n    addTab = () => {\r\n        this.setState({\r\n            tabList: [...this.state.tabList, getEmptyTokenMintDesc(\"Token \" + (this.state.tabList.length + 1))]\r\n        })\r\n    }\r\n\r\n    deleteTab = (id) => {\r\n        this.setState(prevState => ({\r\n            tabList: prevState.tabList.filter((elem, index) => index !== id)\r\n        }));\r\n    }\r\n\r\n    updateToken = (id, token) => {\r\n        //console.log(\"updateToken\", id, token);\r\n        var newList = this.state.tabList;\r\n        newList[id] = token;\r\n        this.setState({\r\n            tabList: newList,\r\n        });\r\n    }\r\n\r\n    loadTabs = (tabListJSON) => {\r\n        this.setState({\r\n            tabList: tabListJSON,\r\n        });\r\n    }\r\n\r\n    async exportTabs() {\r\n        var _myArray = JSON.stringify(this.state.tabList, null, 4);\r\n        var vLink = document.createElement('a'),\r\n            vBlob = new Blob([_myArray], { type: \"octet/stream\" }),\r\n            vName = 'CYTI_tokens.json',\r\n            vUrl = window.URL.createObjectURL(vBlob);\r\n        vLink.setAttribute('href', vUrl);\r\n        vLink.setAttribute('download', vName);\r\n        vLink.click();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='w-100 d-flex justify-content-center'>\r\n                <Tabs className='w-75' selectedTabClassName=\"react-tabs-tab-selected\" >\r\n                    <TabList className='w-100'>\r\n                        {\r\n                            this.state.tabList.map((tab, index) =>\r\n                                <Tab key={index}>\r\n                                    <div className='d-flex flex-row align-items-center justify-content-between'>\r\n                                        {tab.name} &nbsp;\r\n                                        <img src={DeleteImage} onClick={() => this.deleteTab(index)} width={24} alt=\"delete\" />\r\n                                    </div>\r\n                                </Tab>\r\n                            )\r\n                        }\r\n                        &nbsp;&nbsp;\r\n                        <img src={AddImage} onClick={this.addTab} width={24} alt=\"add\" />\r\n                        &nbsp;&nbsp;\r\n                        <LoadButton loadTab={this.loadTabs} />\r\n                        &nbsp;&nbsp;\r\n                        <span >\r\n                            <img\r\n                                src={ExportImage}\r\n                                alt={\"export\"}\r\n                                width=\"24px\"\r\n                                data-tip\r\n                                data-for={\"exportJSON\"}\r\n                                onClick={this.exportTabs}\r\n                            />\r\n                            <ReactTooltip id={\"exportJSON\"}\r\n                                place=\"right\"\r\n                                effect=\"solid\"\r\n                                data-html={true}\r\n                                delayShow={300}\r\n                                delayHide={300}\r\n                                insecure={true}\r\n                                multiline={true}\r\n                                backgroundColor=\"black\"\r\n                            >\r\n                                <span>Export tokens to JSON file</span>\r\n                            </ReactTooltip>\r\n                        </span>\r\n                    </TabList>\r\n                    {\r\n                        this.state.tabList.map((tab, index) =>\r\n                            <TabPanel key={index}>\r\n                                <MintToken id={index} \r\n                                token={tab} \r\n                                updateHandler={this.updateToken} \r\n                                nbTokens={this.state.tabList.length}\r\n                                />\r\n                            </TabPanel>\r\n                        )\r\n                    }\r\n                    <br />\r\n                    <MintTokens tokenList={this.state.tabList} />\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAJwAAACcBKgmRTwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAhHSURBVHic7VtdSJRNFP7217/MUNM0JFH6EaK6yCATupI0QsIwiNK6USvYC2NXTYRtQVZ3XZKikhQEJS9kwxDJpK5C7EYhkggNlArKlLS00nVX1+/i6bC8u87O+7676+b3+dws7/ycc+acmTNnZs4q1tbW1tbW/tlCmKAMtwD/d2wZIMzYMkCYoQ63AASTyWQymZTKmJiYmJiYgwdXVlZWVlaOHkXtgQP4TU9XKBQKhSIxEXtXdDT1R/niIsq/fUPphw/4HRtzu91ut3tkxOVyuVyut2+NRqPRaHS7N3CI60IRrk24qampqalp1y4o+vx5KLCgALU7d4aKL/jMzMAgAwMYf3d3bW1tbW3t9HSo+DLl2SgDYIbHx0dGRkZGRl6/Dr5nzqBWHeaV6HLBMH19DofD4XA8eIAV8uNHqDmH3AANDQ0NDQ2nTyuVSqVSqdeD3/btoeMYGCDfwgIMYrXW1NTU1NQMDISKX9AN0Nra2traqtHMzs7Ozs7evImBFBaK7Q95FhfxNTiI/iMjKB8fx/fU1PLy8vLy8s+f1C8iIiIiIiI2FvWpqWi/bx9qs7PxnZuLes/ewQPa9/RgZVitWBkrK2L7c+kHywDNzc3Nzc1RUVCM1YrS48d5/WjTxEDb2tD/6VMM1OEIXDIALjAyUqvVarXa/HysyMuXwT8tTZycr145nU6n01lVFSz5AjYAzfi5ubm5ubnbt1HKU7zTid/2dszcrq7KysrKysqlJfmSSAMMolbDIBcvYgJUVKBWq2X1Exrixo1AV0TAm5/Q1fAUPzuL6MNgQNQxOhoof7kQKq6jw2az2Wy2168RptpsGE98vHc/lOfkIJioqkKp2SxXDtkHMdpceT4eM2ZiAoovLQ234lnQ6/V6vX50VK1Wq9Xq0lKSm9Ue9UVFjY2NjY2N+fly+Up2QRaLxWKxxMWhX08PSuPi1hdwbg6/JSXhirPlQnhO6exkrQhh1HTuHKKm79/F8pG5AnQ6/PoqHnA6IZhev9kUTzAYDAaD4etXbNYGA0pp7/IAiqew+upVqXxEG4BmhPAAxUJ7+9/qaqSiurq6urr6zRuMu63Nf+vCQuwlSUli6YvehIVXBr4nVwonsTl1dYmlS7Db7Xa7XaWamJiYmJgwmbBnvHwJQ754IZUewWw2m83mvDzM5JMnMzMzMzMzjcbi4uLi4uLVVbF0EhISEhISHj1CtHf2LEp37xa20mhIT/i+d49Hl7sC6JJMeFfjC4rjpYaTpPjJycnJycn6epTm54NefT0pUCw9AvUjOkSX+BBfsfTKy8vLy8tdLky0jg7/rQsKSG88utwGdDuJL99LMjq50gGKR88bNONBx6NoKE6lkmoIb8UTHaG8eXnEV6q8WOHPnuGLTuzeSE5Gu6wsHj2uAYTXwiwMDso9GZKrgWJ8XYJYQ/AUTyA+xFeqvLTCQX9oiNUOfLKzefRE7gF0H+8LuqsRR8cX5OOhQCr1VaDwmwzhLQdf8fitqwt0bwGf4WHvlSvkF4QVAKSns2rAaHxcHB02SCGkILErYqMVT4BneP/efyu23ghcA0DwxERWPe5Evnzh0RELeYbYOMUTcGXBHjeiroQEHh2uATDAqChWfUpKSkpKyu/fPDpSQQpTqVQqlaq2FqViL73cbshtNAZb8UL8+sWqgeH5196b5lEeA1IoxLZX/EEoZQoGRLogdlw/NTU1NTUVExNcsTxRzerq6urqqtnMcjXrQ6lElHPrltxzhDhs28aqgbysMNUDkS6Isgx8gXjX+0QoH1LDyUDDV7ngjZtuBnh0RLogSu9gMaKnP/mQp3japMVHTcEyBOjt3cuqhzwfP/LoiDTA2Jj/ev6BgwW5iqfNVW74Gqgh4OKOHfPf6t07Hh2uASihiVWPAefm0psrj56PAH8uyQINJ6UagvhKlRfjpOjmxAn/rYeHefS4BqBMMgg+M+Ndj/LoaHrs5tHzBt1Ogo5HsXLjeJ4hiA/xlSqvcJys8Hx6GucjnucQYQBK4aNMMiahP1kG9NjNo0uga+GMjIyMjIy6OpRSxpr8A5S3IYgu8ZF6HY1xabUw4JUrrHao7+8Xm/ooWlEYSHc3GFy4gFKNRliflkZZBijlXdt6IFQIKSxwCA0o/0CG7I1Ll/CVmrp+K6cT+UN2u1i6og9i9LQIA/T1sdqhvqICL0OHDoml/7cCm/WRI/gqK/PfurcXM9/XVbMg8yR8/z4Uzcqd1GopvYOeMuXxCR9IboyTEs08K16I+Xm8hzx8KJWPZAPgjXR+Hi7HZmO1g+Dx8bg1vHNnsxiC5MQJ/O5dGof/XhaL3GRe2XdBwqTVJ09Y7TCAzExK70Bay+HDcvmGCuRqEGx0dqI0I4PVHuN6/Bh6eP5cLt+AM+Ow9CwWbL7JyRAsJ8e7Hc0krJyWFiR2tbXRYze9uQYqj1gIUypLShDFlZVBPparIQwNIZpqagpUjqAl5wqTX61WliHWx+fPkKOjg95cg50rSgcoiuOF4SQrqvHG0BAmXHX1X5Oc6w06B1DuJOgXFUmjsrgIBQ0N4Xd4mF6g6CEE7xCe9HTcysbGajQajUaTmooZvX8/aumqhE6u7PcNb5CroRkv9fzApR9sA3gDPv/UKfChZFZWRl34QdEd5KU/aMj38Vx+oTYAAStjxw4caK5dQykl9fJ8bqhBKYe9vUjDaWnR6XQ6nW5hIdScw/YnPUrhE2aSUeJXcnJoudOBsr+fTq5SD1DBQtgM4A3KJKOEJshFfy3KyoLC9uzBd1ISvj2+HOVLS/D909MIJz99Qi1dCw8P0yXZ//5vqlsANs2j/H8VWwYIM7YMEGb8C8JOFi+ZOSRuAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAJwAAACcBKgmRTwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAH5SURBVHic7Zo7jsIwFEWf0XRsh81QpYtEFFq+G4AaqnSsA7EAJDqQoIYVgEhBkzeFFQ1jPklwhhsP7zQhcuTPPThO5ChmZmYSQNTQHfh0RAAYEQBGBIARAWBEABgRAMZZAUqNRkS+r9R4TNRuo/vzKs4JSIPXZ75PxEzkea6KcEbAbfAmboqovIDs4E3cElFZAcWDN3FDROUE2AdvUm0RlRFQfvAm1RQBF1As+PM5X63PrktFXLeLAyagePBK5fvn1mpErZYO+nR6fi3+PeLtAooHnyREYcjc7RKt11n1M3c6RNutPguCbBHYWxNgBjATXS7Pr7kOfjAg2myKt9LvE+12+iyviKx+lc/bBehgZjM94Mnkd6l98PfbyxIRRcy9HlEU2bZXFNgacCuCmSgIygr+fnupiDBM20UFn6Jc25TXa8hq9ahcB9povLNPNsAfQz8dEQBGBIARAWBEABgRAEYEgBEBYL5sK/hvL0Ymfz0+mQFgrGfAu3F9RpnIDAAjAsCIADAlrQFxrI/1ulmS9RThNnk/EnhMSTNguSynHpdgLmPcJQhQimg61b+PR/v6qk66pZkkP+N+HWsB+muF/V5vaDebWsh8rkvTW5PrxLEOfrHQwXse83BIdDjY1uzcluR/Q56CwIgAMCIAjAgAIwLAiAAwIgDMNzurDBX6pZByAAAAAElFTkSuQmCC\"","import './App.css';\r\nimport React from 'react';\r\nimport InputAddress from './components/InputAddress';\r\nimport MintRequests from './components/MintRequests';\r\nimport Footer from './components/Footer';\r\nimport MintTabs from './components/MintTabs';\r\n\r\nexport default class App extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App d-flex flex-column justify-content-between align-items-center\">\r\n        <div className=\"w-100 d-flex flex-column align-items-center\">\r\n          <div className=\"w-100 d-flex flex-row justify-content-between align-items-center bggrey\">\r\n            <div className='d-flex flex-column  align-items-start m-1 p-1'>\r\n              <h2>&nbsp;C.Y.T.I<span className='hidden-mobile'> - Choose Your Token ID</span></h2>\r\n              <div>\r\n                <button className='btn btn-yellow'\r\n                  onClick={() => {\r\n                    const url = 'https://github.com/ThierryM1212/cyti/releases';\r\n                    window.open(url, '_blank').focus();\r\n                  }}\r\n                >\r\n                  Get CYTI miner\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <InputAddress />\r\n          </div>\r\n          <div className=\"w-75 p-1 m-1\">\r\n            <h4>Mint tokens</h4>\r\n            <h5>Use CYTI minable smart contract to choose your token ID</h5>\r\n          </div>\r\n          <MintTabs />\r\n          <MintRequests />\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { waitingAlert } from \"../utils/Alerts\";\r\nimport { encodeHexConst, encodeLong, encodeStrConst } from \"./serializer\";\r\nimport { CYTI_MINT_REQUEST_SCRIPT_ADDRESS, MIN_NANOERG_BOX_VALUE, NANOERG_TO_ERG, NFT_TYPES, TX_FEE } from \"../utils/constants\";\r\nimport { getUtxos, walletSignTx } from \"./wallet\";\r\nimport { Serializer } from \"@coinbarn/ergo-ts\";\r\nimport { currentHeight } from \"./explorer\";\r\nimport { createTransaction, getUtxosListValue } from \"./wasm\";\r\nimport { downloadAndSetSHA256 } from \"../utils/utils\";\r\nlet ergolib = import('ergo-lib-wasm-browser');\r\n\r\n/* global BigInt */\r\n\r\nasync function mintSimpleToken(tokName, tokDesc, tokAmount, tokDecimals, tokType, tokURL, tokHash, txFeeNano) {\r\n    const alert = waitingAlert(\"Preparing the transaction...\");\r\n    const address = localStorage.getItem('address');\r\n    var txAmount = txFeeNano;\r\n    if (txFeeNano < TX_FEE + MIN_NANOERG_BOX_VALUE) {\r\n        txAmount = TX_FEE + MIN_NANOERG_BOX_VALUE;\r\n    }\r\n    const utxos = await getUtxos(txAmount);\r\n    const inputsWASM = (await ergolib).ErgoBoxes.from_boxes_json(utxos);\r\n    const dataListWASM = new (await ergolib).ErgoBoxAssetsDataList();\r\n    const boxSelection = new (await ergolib).BoxSelection(inputsWASM, dataListWASM);\r\n    const creationHeight = await currentHeight();\r\n    const outputCandidates = (await ergolib).ErgoBoxCandidates.empty();\r\n    const tokenAmountAdjusted = BigInt(tokAmount * Math.pow(10, tokDecimals)).toString();\r\n    const mintBoxValue = (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str(MIN_NANOERG_BOX_VALUE.toString()));\r\n    const mintBoxBuilder = new (await ergolib).ErgoBoxCandidateBuilder(\r\n        mintBoxValue,\r\n        (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(address)),\r\n        creationHeight);\r\n    const token = new (await ergolib).Token(\r\n        (await ergolib).TokenId.from_box_id((await ergolib).BoxId.from_str(utxos[0].boxId)),\r\n        (await ergolib).TokenAmount.from_i64((await ergolib).I64.from_str(tokenAmountAdjusted))\r\n    );\r\n    mintBoxBuilder.mint_token(token, tokName, tokDesc, tokDecimals);\r\n    mintBoxBuilder.set_register_value(7, await encodeStrConst(NFT_TYPES[tokType]));\r\n    mintBoxBuilder.set_register_value(8, await encodeHexConst(tokHash));\r\n    mintBoxBuilder.set_register_value(9, await encodeStrConst(tokURL));\r\n    try {\r\n        outputCandidates.add(mintBoxBuilder.build());\r\n    } catch (e) {\r\n        console.log(`building error: ${e}`);\r\n        throw e;\r\n    }\r\n    var tx = await createTransaction(boxSelection, outputCandidates, [], address, utxos);\r\n    console.log(\"tx\", tx)\r\n    const txId = await walletSignTx(alert, tx, address);\r\n    return txId;\r\n}\r\n\r\n\r\nexport async function mintCITYContracts(tokenList, txFeeFloat) {\r\n    var fixedTokenList = [];\r\n    for (var tok of tokenList) {\r\n        // Adjust the CYTI fee to avoid stuck contracts\r\n        if (tok.idPattern === \"\" && parseFloat(tok.CYTIFee) < (TX_FEE + 2 * MIN_NANOERG_BOX_VALUE) / NANOERG_TO_ERG) {\r\n            tok.CYTIFee = (TX_FEE + 2 * MIN_NANOERG_BOX_VALUE) / NANOERG_TO_ERG\r\n        }\r\n        if (tok.idPattern !== \"\" && parseFloat(tok.CYTIFee) < (2 * TX_FEE + 2 * MIN_NANOERG_BOX_VALUE) / NANOERG_TO_ERG) {\r\n            tok.CYTIFee = (2 * TX_FEE + 2 * MIN_NANOERG_BOX_VALUE) / NANOERG_TO_ERG\r\n        }\r\n        // Compute the media hash if not provided\r\n        if (tok.type !== \"Standard\" && tok.mediaURL !== \"\" && tok.mediaHash === \"\") {\r\n            tok.mediaHash = await downloadAndSetSHA256(tok.mediaURL);\r\n        }\r\n        fixedTokenList.push(tok);\r\n    }\r\n\r\n    // if only one token and no requirement on the start token ID, mint a simple token\r\n    if (fixedTokenList && fixedTokenList.length === 1 && fixedTokenList[0].idPattern === \"\") {\r\n        return await mintSimpleToken(fixedTokenList[0].name, fixedTokenList[0].desc, fixedTokenList[0].amount,\r\n            fixedTokenList[0].decimals, fixedTokenList[0].type, fixedTokenList[0].mediaURL, fixedTokenList[0].mediaHash,\r\n            Math.round(txFeeFloat * NANOERG_TO_ERG)\r\n        );\r\n    }\r\n\r\n    const alert = waitingAlert(\"Preparing the transaction...\");\r\n    const address = localStorage.getItem('address');\r\n    var txAmount = Math.round((fixedTokenList.reduce((acc, tok1) => acc += parseFloat(tok1.CYTIFee), 0)) * NANOERG_TO_ERG);\r\n    const utxos = await getUtxos(txAmount + Math.round(parseFloat(txFeeFloat) * NANOERG_TO_ERG));\r\n    const inputsWASM = (await ergolib).ErgoBoxes.from_boxes_json(utxos);\r\n    const dataListWASM = new (await ergolib).ErgoBoxAssetsDataList();\r\n    const boxSelection = new (await ergolib).BoxSelection(inputsWASM, dataListWASM);\r\n    const creationHeight = await currentHeight();\r\n    const outputCandidates = (await ergolib).ErgoBoxCandidates.empty();\r\n    const ownerSigmaProp = (await ergolib).Constant.from_ecpoint_bytes(\r\n        (await ergolib).Address.from_base58(address).to_bytes(0x00).subarray(1, 34)\r\n    );\r\n\r\n    for (var token of fixedTokenList) {\r\n        const tokenAmountAdjusted = BigInt(token.amount * Math.pow(10, token.decimals)).toString();\r\n        // fix required tokIdStart if number of char if odd\r\n        if (token.idPattern.length % 2 === 1) {\r\n            token.idPattern = token.idPattern + '0';\r\n        }\r\n\r\n        // MINT CYTI\r\n        const txAmountBoxValue = (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str((Math.round(token.CYTIFee * NANOERG_TO_ERG)).toString()));\r\n        const mintCYTIBoxBuilder = new (await ergolib).ErgoBoxCandidateBuilder(\r\n            txAmountBoxValue,\r\n            (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(CYTI_MINT_REQUEST_SCRIPT_ADDRESS)),\r\n            creationHeight);\r\n        mintCYTIBoxBuilder.set_register_value(4, await encodeLong(tokenAmountAdjusted));\r\n        const tokenMintInfos = [token.name, token.desc, token.decimals, NFT_TYPES[token.type], token.mediaHash, token.mediaURL];\r\n        console.log(\"mint info\", tokenMintInfos);\r\n        const registerValue5 = tokenMintInfos.map((val, index) => {\r\n            if (index === 4) { // encode hash as hex\r\n                return new Uint8Array(Buffer.from(val, 'hex'))\r\n            } else {\r\n                return new Uint8Array(Buffer.from(Serializer.stringToHex(val), 'hex'))\r\n            }\r\n        });\r\n        mintCYTIBoxBuilder.set_register_value(5, (await ergolib).Constant.from_coll_coll_byte(registerValue5));\r\n        mintCYTIBoxBuilder.set_register_value(6, ownerSigmaProp);\r\n        mintCYTIBoxBuilder.set_register_value(7, await encodeHexConst(token.idPattern));\r\n        mintCYTIBoxBuilder.set_register_value(8, ownerSigmaProp);\r\n        mintCYTIBoxBuilder.set_register_value(9, await encodeHexConst(\"000000\"));\r\n        try {\r\n            outputCandidates.add(mintCYTIBoxBuilder.build());\r\n        } catch (e) {\r\n            console.log(`building error: ${e}`);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    var tx = await createTransaction(boxSelection, outputCandidates, [], address, utxos);\r\n    console.log(\"tx\", tx)\r\n    const txId = await walletSignTx(alert, tx, address);\r\n    return txId;\r\n}\r\n\r\n\r\nexport async function refundMintRequest(mintRequestJSON) {\r\n    return await refundAllMintRequests([mintRequestJSON]);\r\n}\r\n\r\nexport async function refundAllMintRequests(mintRequestsJSON) {\r\n    const alert = waitingAlert(\"Preparing the transaction...\");\r\n    const address = localStorage.getItem('address');\r\n    var utxos = mintRequestsJSON;\r\n    var utxosValue = getUtxosListValue(utxos);\r\n    if (utxosValue < TX_FEE + MIN_NANOERG_BOX_VALUE) {\r\n        const utxos1 = await getUtxos(TX_FEE);\r\n        utxos = utxos.concat(utxos1);\r\n        utxosValue = getUtxosListValue(utxos);\r\n    }\r\n    const inputsWASM = (await ergolib).ErgoBoxes.from_boxes_json(utxos);\r\n    const dataListWASM = new (await ergolib).ErgoBoxAssetsDataList();\r\n    const boxSelection = new (await ergolib).BoxSelection(inputsWASM, dataListWASM);\r\n    const creationHeight = await currentHeight();\r\n    const outputCandidates = (await ergolib).ErgoBoxCandidates.empty();\r\n    const refundBoxValue = (await ergolib).BoxValue.from_i64((await ergolib).I64.from_str((parseInt(utxosValue) - TX_FEE).toString()));\r\n    const refundBoxBuilder = new (await ergolib).ErgoBoxCandidateBuilder(\r\n        refundBoxValue,\r\n        (await ergolib).Contract.pay_to_address((await ergolib).Address.from_base58(address)),\r\n        creationHeight);\r\n    try {\r\n        outputCandidates.add(refundBoxBuilder.build());\r\n    } catch (e) {\r\n        console.log(`building error: ${e}`);\r\n        throw e;\r\n    }\r\n    var tx = await createTransaction(boxSelection, outputCandidates, [], address, utxos);\r\n    console.log(\"tx\", tx)\r\n    const txId = await walletSignTx(alert, tx, address);\r\n    return txId;\r\n}","export const NANOERG_TO_ERG = 1000000000;\r\nexport const MIN_NANOERG_BOX_VALUE = 0.001 * NANOERG_TO_ERG;\r\nexport const TX_FEE = 1100000;\r\n\r\nexport const DEFAULT_EXPLORER_API_ADDRESS = \"https://api.ergoplatform.com/\";\r\nexport const DEFAULT_EXPLORER_ADDRESS = \"https://explorer.ergoplatform.com/\";\r\n\r\nexport const NFT_TYPES = {\r\n    'Standard': \"\",\r\n    'Picture': \"\u0001\u0001\",\r\n    'Audio': \"\u0001\u0002\",\r\n    'Video': \"\u0001\u0003\",\r\n}\r\n\r\nexport const RECOMMENDED_FEES = [\r\n    TX_FEE + 2 * MIN_NANOERG_BOX_VALUE, // 0 char\r\n    0.005 * NANOERG_TO_ERG,             // 2 char\r\n    0.005 * NANOERG_TO_ERG,             // 2 char\r\n    0.01 * NANOERG_TO_ERG,              // 4 char\r\n    0.01 * NANOERG_TO_ERG,              // 4 char\r\n    0.1 * NANOERG_TO_ERG,               // 6 char\r\n    0.1 * NANOERG_TO_ERG,               // 6 char\r\n    1 * NANOERG_TO_ERG,                 // 8 char \r\n    1 * NANOERG_TO_ERG,                 // 8 char  \r\n];\r\n\r\nexport const CYTI_MINT_REQUEST_SCRIPT=\"1020040004000404040005c0a3860105c0b5fa02010004060580897a05c0a38601040204020580897a04020402040204000402040004020400040204020402040404020406040204080402040a0100d80ad601e4c6a70608d602c5a7d603e4c6a7070ed604b17203d605b4720273007204d6069472057203d607b1a5d608b2a5730100d609e4c6a70405d60ae4c6a7051aeb02ea027201d17206d1ec95eded937207730293b4c572087303720472037206edededededededed93c27208c2a793c1720899c1a7730492c17208730593e4c672080405720993e4c67208051a720a93e4c672080608720193e4c67208070e7203e6c672080808e6c67208090e730695ed93720773079372057203edededededededededededed93c27208d0e4c6a7080892c172089999c1a77308730993c2b2a5730a00d0720193c1b2a5730b00730c93b1db6308b2a5730d00730e938cb2db6308b2a5730f00731000017202938cb2db6308b2a573110073120002720993e4c6b2a5731300040eb2720a73140093e4c6b2a5731500050eb2720a73160093e4c6b2a5731700060eb2720a73180093e4c6b2a5731900070eb2720a731a0093e4c6b2a5731b00080eb2720a731c0093e4c6b2a5731d00090eb2720a731e00731f\";\r\nexport const CYTI_MINT_REQUEST_SCRIPT_HASH=\"08262f1f872737e3f62af908517603572e8fd5ae0c019ce94bb91ed27ef281c4\";\r\nexport const CYTI_MINT_REQUEST_SCRIPT_ADDRESS=\"PjsKkeMDreCAE9RoZm6ocrrMg7Pes8tHL7yCfdDJRi6NWT3Ds7vQoi69rMNmn7Ma6RtJp2jmAMcwHD4GyRuqXr6H5vy1CDEPTzq23XYCCocDEvGrwFXUK4h7SVtXSpJWJrGZHqw5vSvHE2hHGM7uvhcJHVxkAFUttLUxdWgVGnAH6YqbUKs95Ky6Hgz4peTjs95Zo2QcmAJkdCD6XZKZ5iztvQdMb9jHv9QdGhh7Ls8SnQ2qLaWkDH1NghFwvrqhb99whJZe2wt1PDzNVHjzvL7XXnjDfUKQXG1N4qE1Nzpjz3cdQLojNNMr48u9op9rs21amziXfWmS9rjtZn5jeaiNXdmMqastrSdDXcijpru3wUetrvdnzUXCDKP9Gs7AHMBCiRwr2FrXHZ1Lf71UT1uwVLzfrJ4PFYL7APYL5pkJJF9Q7i9v7kFsQd4iHFwD52NnZiiqS14gYu4SQppFL9pBWotug7rQHuNZ11gEbvvH1EYwMvDRKnRzmGqbs28Uoco1ZGeAu7aK7cppNAHy7vmgqM1c8ch9gWMSdxs5ecMQwCgwjH8fLZxMEEEt7SekgTpifCDNGKFumiiGHRwcysgmA9wmb8ReazWoiMgw1yTz7w1vykT4iu85JnEcSGThG\";\r\n\r\n","\r\nexport async function post(url, body = {}, apiKey = '') {\r\n    return await fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'mode': 'cors',\r\n            'Access-Control-Allow-Origin': '*',\r\n            'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n            'Access-Control-Allow-Methods': 'GET,HEAD,OPTIONS,POST,PUT',\r\n            api_key: apiKey,\r\n        },\r\n        body: JSON.stringify(body),\r\n    });\r\n}\r\nexport async function get(url, apiKey = '') {\r\n    try {\r\n        return await fetch(url, {\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'mode': 'cors',\r\n                'Access-Control-Allow-Origin': '*',\r\n                'Access-Control-Allow-Headers': 'Origin, X-Requested-With, Content-Type, Accept',\r\n                'Access-Control-Allow-Methods': 'GET,HEAD,OPTIONS,POST,PUT',\r\n                api_key: apiKey,\r\n            }\r\n        }).then(res => res.json());\r\n    } catch (e) {\r\n        console.error(e);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getStream(url, apiKey = '') {\r\n    try {\r\n        const response = await fetch(url)\r\n        const responseTxt = await response.text();\r\n        return responseTxt;\r\n    } catch (e) {\r\n        console.error(e);\r\n        return \"\";\r\n    }\r\n}\r\n\r\nexport async function getBlob(url) {\r\n    try {\r\n        const result = await fetch(url).then(res => res.arrayBuffer());\r\n        return result;\r\n    } catch (e) {\r\n        console.error(e);\r\n        return [];\r\n    }\r\n}\r\n","import React, { Fragment } from 'react';\r\n\r\n\r\nexport default function TokenMedia(props) {\r\n    return (\r\n        <Fragment>\r\n            {\r\n                props.type === \"Standard\" || props.address === '' ? null :\r\n                    <div className='d-flex flex-row justify-content-center align-items-center m-1 p-1'>\r\n                        {\r\n                            props.type === \"Picture\" ?\r\n                                <img src={props.address} alt=\"token\" width={props.width} />\r\n                                : null\r\n                        }\r\n                        {\r\n                            props.type === \"Video\" ?\r\n                                <video controls src={props.address} alt=\"token\" width={props.width} />\r\n                                : null\r\n                        }\r\n                        {\r\n                            props.type === \"Audio\" ?\r\n                                <audio controls src={props.address} alt=\"token\" width={props.width} />\r\n                                : null\r\n                        }\r\n                    </div>\r\n            }\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n"],"sourceRoot":""}